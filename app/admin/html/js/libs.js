function bkClass(){}function $BK(a){if(typeof a=="string"){a=document.getElementById(a)}return a&&!a.appendTo?bkExtend(a,bkElement.prototype):a}function __(a){return a}jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b+c;return-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b+c;return d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b+c;return-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b*b+c;return d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){if(b==0)return c;if(b==e)return c+d;if((b/=e/2)<1)return d/2*Math.pow(2,10*(b-1))+c;return d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){if((b/=e/2)<1)return-d/2*(Math.sqrt(1-b*b)-1)+c;return d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e)==1)return c+d;if(!g)g=e*.3;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e)==1)return c+d;if(!g)g=e*.3;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;if(!g)g=e*.3*1.5;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);if(b<1)return-.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c;return h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;return d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;return d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;if((b/=e/2)<1)return d/2*b*b*(((f*=1.525)+1)*b-f)+c;return d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){if((b/=e)<1/2.75){return d*7.5625*b*b+c}else if(b<2/2.75){return d*(7.5625*(b-=1.5/2.75)*b+.75)+c}else if(b<2.5/2.75){return d*(7.5625*(b-=2.25/2.75)*b+.9375)+c}else{return d*(7.5625*(b-=2.625/2.75)*b+.984375)+c}},easeInOutBounce:function(a,b,c,d,e){if(b<e/2)return jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c;return jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}});(function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0,b=a.event.fix(c);b.type="mousewheel";c.wheelDelta&&(e=c.wheelDelta/120);c.detail&&(e=-c.detail/3);g=e;c.axis!==void 0&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e);c.wheelDeltaY!==void 0&&(g=c.wheelDeltaY/120);c.wheelDeltaX!==void 0&&(f=-1*c.wheelDeltaX/120);d.unshift(b,e,f,g);return(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,false);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,false);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);$(function(){$('#sidebar>ul>li:not([class*="current"])>ul').hide();$('#sidebar>ul>li:not([class*="nosubmenu"])>a').click(function(){e=$(this).parent();$("#sidebar>ul>li.current").removeClass("current").find("ul:first").slideUp();e.addClass("current").find("ul:first").slideDown()});var a=$("#menucollapse").html();$("#menucollapse").click(function(){var b=$("body");b.toggleClass("collapsed");isCollapsed=b.hasClass("collapsed");if(isCollapsed){$(this).html("&#9654;")}else{$(this).html(a)}})});(function(a,b,c,d){var e=c(a),f=c(b),g=c.fancybox=function(){g.open.apply(this,arguments)},h=!1,i=b.createTouch!==d,j=function(a){return"string"===c.type(a)},k=function(a,b){b&&j(a)&&0<a.indexOf("%")&&(a=g.getViewport()[b]/100*parseInt(a,10));return Math.round(a)+"px"};c.extend(g,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!i,autoCenter:!i,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(c.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){g.close(!0);a&&!c.isArray(a)&&(a=a instanceof c?c(a).get():[a]);g.isActive=!0;g.opts=c.extend(!0,{},g.defaults,b);c.isPlainObject(b)&&b.keys!==d&&(g.opts.keys=b.keys?c.extend({},g.defaults.keys,b.keys):!1);g.group=a;g._start(g.opts.index||0)},cancel:function(){g.coming&&!1===g.trigger("onCancel")||(g.coming=null,g.hideLoading(),g.ajaxLoad&&g.ajaxLoad.abort(),g.ajaxLoad=null,g.imgPreload&&(g.imgPreload.onload=g.imgPreload.onabort=g.imgPreload.onerror=null))},close:function(a){g.cancel();g.current&&!1!==g.trigger("beforeClose")&&(g.unbindEvents(),!g.isOpen||a&&!0===a[0]?(c(".fancybox-wrap").stop().trigger("onReset").remove(),g._afterZoomOut()):(g.isOpen=g.isOpened=!1,c(".fancybox-item, .fancybox-nav").remove(),g.wrap.stop(!0).removeClass("fancybox-opened"),g.inner.css("overflow","hidden"),g.transitions[g.current.closeMethod]()))},play:function(a){var b=function(){clearTimeout(g.player.timer)},d=function(){b();g.current&&g.player.isActive&&(g.player.timer=setTimeout(g.next,g.current.playSpeed))},e=function(){b();c("body").unbind(".player");g.player.isActive=!1;g.trigger("onPlayEnd")};if(g.player.isActive||a&&!1===a[0])e();else if(g.current&&(g.current.loop||g.current.index<g.group.length-1))g.player.isActive=!0,c("body").bind({"afterShow.player onUpdate.player":d,"onCancel.player beforeClose.player":e,"beforeLoad.player":b}),d(),g.trigger("onPlayStart")},next:function(){g.current&&g.jumpto(g.current.index+1)},prev:function(){g.current&&g.jumpto(g.current.index-1)},jumpto:function(a){g.current&&(a=parseInt(a,10),1<g.group.length&&g.current.loop&&(a>=g.group.length?a=0:0>a&&(a=g.group.length-1)),g.group[a]!==d&&(g.cancel(),g._start(a)))},reposition:function(a,b){var c;g.isOpen&&(c=g._getPosition(b),a&&"scroll"===a.type?(delete c.position,g.wrap.stop(!0,!0).animate(c,200)):g.wrap.css(c))},update:function(a){g.isOpen&&(h||setTimeout(function(){var b=g.current,c=!a||a&&"orientationchange"===a.type;if(h&&(h=!1,b)){if(!a||"scroll"!==a.type||c)b.autoSize&&"iframe"!==b.type&&(g.inner.height("auto"),b.height=g.inner.height()),(b.autoResize||c)&&g._setDimension(),b.canGrow&&"iframe"!==b.type&&g.inner.height("auto");(b.autoCenter||c)&&g.reposition(a);g.trigger("onUpdate")}},200),h=!0)},toggle:function(){g.isOpen&&(g.current.fitToView=!g.current.fitToView,g.update())},hideLoading:function(){f.unbind("keypress.fb");c("#fancybox-loading").remove()},showLoading:function(){g.hideLoading();f.bind("keypress.fb",function(a){27===a.keyCode&&(a.preventDefault(),g.cancel())});c('<div id="fancybox-loading"><div></div></div>').click(g.cancel).appendTo("body")},getViewport:function(){return{x:e.scrollLeft(),y:e.scrollTop(),w:i&&a.innerWidth?a.innerWidth:e.width(),h:i&&a.innerHeight?a.innerHeight:e.height()}},unbindEvents:function(){g.wrap&&g.wrap.unbind(".fb");f.unbind(".fb");e.unbind(".fb")},bindEvents:function(){var a=g.current,b=a.keys;a&&(e.bind("resize.fb orientationchange.fb"+(a.autoCenter&&!a.fixed?" scroll.fb":""),g.update),b&&f.bind("keydown.fb",function(a){var d;d=a.target||a.srcElement;if(!a.ctrlKey&&!a.altKey&&!a.shiftKey&&!a.metaKey&&(!d||!d.type&&!c(d).is("[contenteditable]")))d=a.keyCode,-1<c.inArray(d,b.close)?(g.close(),a.preventDefault()):-1<c.inArray(d,b.next)?(g.next(),a.preventDefault()):-1<c.inArray(d,b.prev)&&(g.prev(),a.preventDefault())}),c.fn.mousewheel&&a.mouseWheel&&1<g.group.length&&g.wrap.bind("mousewheel.fb",function(a,b){var c=a.target||null;if(0!==b&&(!c||0===c.clientHeight||c.scrollHeight===c.clientHeight&&c.scrollWidth===c.clientWidth))a.preventDefault(),g[0<b?"prev":"next"]()}))},trigger:function(a,b){var d,e=b||g[-1<c.inArray(a,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(e){c.isFunction(e[a])&&(d=e[a].apply(e,Array.prototype.slice.call(arguments,1)));if(!1===d)return!1;e.helpers&&c.each(e.helpers,function(b,d){if(d&&c.isPlainObject(g.helpers[b])&&c.isFunction(g.helpers[b][a]))g.helpers[b][a](d,e)});c.event.trigger(a+".fb")}},isImage:function(a){return j(a)&&a.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(a){return j(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var b={},d=g.group[a]||null,e,f,h;if(d&&(d.nodeType||d instanceof c))e=!0,c.metadata&&(b=c(d).metadata());b=c.extend(!0,{},g.opts,{index:a,element:d},c.isPlainObject(d)?d:b);c.each(["href","title","content","type"],function(a,f){b[f]=g.opts[f]||e&&c(d).attr(f)||b[f]||null});"number"===typeof b.margin&&(b.margin=[b.margin,b.margin,b.margin,b.margin]);b.modal&&c.extend(!0,b,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});g.coming=b;if(!1===g.trigger("beforeLoad"))g.coming=null;else{f=b.type;a=b.href||d;f||(e&&(f=c(d).data("fancybox-type"),f||(f=(f=d.className.match(/fancybox\.(\w+)/))?f[1]:null)),!f&&j(a)&&(g.isImage(a)?f="image":g.isSWF(a)?f="swf":a.match(/^#/)&&(f="inline")),f||(f=e?"inline":"html"),b.type=f);if("inline"===f||"html"===f){if(b.content||(b.content="inline"===f?c(j(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):d),!b.content||!b.content.length)f=null}else a||(f=null);"ajax"===f&&j(a)&&(h=a.split(/\s+/,2),a=h.shift(),b.selector=h.shift());b.href=a;b.group=g.group;b.isDom=e;switch(f){case"image":g._loadImage();break;case"ajax":g._loadAjax();break;case"inline":case"iframe":case"swf":case"html":g._afterLoad();break;default:g._error("type")}}},_error:function(a){g.hideLoading();c.extend(g.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:a,content:g.coming.tpl.error});g._afterLoad()},_loadImage:function(){var a=g.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;g.coming.width=this.width;g.coming.height=this.height;g._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;g._error("image")};a.src=g.coming.href;(a.complete===d||!a.complete)&&g.showLoading()},_loadAjax:function(){g.showLoading();g.ajaxLoad=c.ajax(c.extend({},g.coming.ajax,{url:g.coming.href,error:function(a,b){g.coming&&"abort"!==b?g._error("ajax",a):g.hideLoading()},success:function(a,b){"success"===b&&(g.coming.content=a,g._afterLoad())}}))},_preloadImages:function(){var a=g.group,b=g.current,d=a.length,e,f,h,i=Math.min(b.preload,d-1);if(b.preload&&!(2>a.length))for(h=1;h<=i;h+=1)if(e=a[(b.index+h)%d],f=e.href||c(e).attr("href")||e,"image"===e.type||g.isImage(f))(new Image).src=f},_afterLoad:function(){g.hideLoading();!g.coming||!1===g.trigger("afterLoad",g.current)?g.coming=!1:(g.isOpened?(c(".fancybox-item, .fancybox-nav").remove(),g.wrap.stop(!0).removeClass("fancybox-opened"),g.inner.css("overflow","hidden"),g.transitions[g.current.prevMethod]()):(c(".fancybox-wrap").stop().trigger("onReset").remove(),g.trigger("afterClose")),g.unbindEvents(),g.isOpen=!1,g.current=g.coming,g.wrap=c(g.current.tpl.wrap).addClass("fancybox-"+(i?"mobile":"desktop")+" fancybox-type-"+g.current.type+" fancybox-tmp "+g.current.wrapCSS).appendTo("body"),g.skin=c(".fancybox-skin",g.wrap).css("padding",k(g.current.padding)),g.outer=c(".fancybox-outer",g.wrap),g.inner=c(".fancybox-inner",g.wrap),g._setContent())},_setContent:function(){var a=g.current,b=a.content,d=a.type,e=a.minWidth,f=a.minHeight,h=a.maxWidth,j=a.maxHeight;switch(d){case"inline":case"ajax":case"html":a.selector?b=c("<div>").html(b).find(a.selector):b instanceof c&&(b.parent().hasClass("fancybox-inner")&&b.parents(".fancybox-wrap").unbind("onReset"),b=b.show().detach(),c(g.wrap).bind("onReset",function(){b.appendTo("body").hide()}));a.autoSize&&(e=c('<div class="fancybox-wrap '+g.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:k(e,"w"),minHeight:k(f,"h"),maxWidth:k(h,"w"),maxHeight:k(j,"h")}).append(b),a.width=e.width(),a.height=e.height(),e.width(g.current.width),e.height()>a.height&&(e.width(a.width+1),a.width=e.width(),a.height=e.height()),b=e.contents().detach(),e.remove());break;case"image":b=a.tpl.image.replace("{href}",a.href);a.aspectRatio=!0;break;case"swf":b=a.tpl.swf.replace(/\{width\}/g,a.width).replace(/\{height\}/g,a.height).replace(/\{href\}/g,a.href);break;case"iframe":b=c(a.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",a.scrolling).attr("src",a.href),a.scrolling=i?"scroll":"auto"}if("image"===d||"swf"===d)a.autoSize=!1,a.scrolling="visible";"iframe"===d&&a.autoSize?(g.showLoading(),g._setDimension(),g.inner.css("overflow",a.scrolling),b.bind({onCancel:function(){c(this).unbind();g._afterZoomOut()},load:function(){g.hideLoading();try{this.contentWindow.document.location&&(g.current.height=c(this).contents().find("body").height())}catch(a){g.current.autoSize=!1}g[g.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(g.inner)):(g.inner.append(b),g._beforeShow())},_beforeShow:function(){g.coming=null;g.trigger("beforeShow");g._setDimension();g.wrap.hide().removeClass("fancybox-tmp");g.bindEvents();g._preloadImages();g.transitions[g.isOpened?g.current.nextMethod:g.current.openMethod]()},_setDimension:function(){var a=g.wrap,b=g.inner,d=g.current,e=g.getViewport(),f=d.margin,h=2*d.padding,i=d.width,l=d.height,m=d.maxWidth+h,p=d.maxHeight+h,q=d.minWidth+h,r=d.minHeight+h,s;e.w-=f[1]+f[3];e.h-=f[0]+f[2];j(i)&&0<i.indexOf("%")&&(i=(e.w-h)*parseFloat(i)/100);j(l)&&0<l.indexOf("%")&&(l=(e.h-h)*parseFloat(l)/100);f=i/l;i+=h;l+=h;d.fitToView&&(m=Math.min(e.w,m),p=Math.min(e.h,p));if(d.aspectRatio){if(i>m&&(i=m,l=(i-h)/f+h),l>p&&(l=p,i=(l-h)*f+h),i<q&&(i=q,l=(i-h)/f+h),l<r)l=r,i=(l-h)*f+h}else i=Math.max(q,Math.min(i,m)),l=Math.max(r,Math.min(l,p));i=Math.round(i);l=Math.round(l);c(a.add(b)).width("auto").height("auto");b.width(i-h).height(l-h);a.width(i);s=a.height();if(i>m||s>p)for(;(i>m||s>p)&&i>q&&s>r;)l-=10,d.aspectRatio?(i=Math.round((l-h)*f+h),i<q&&(i=q,l=(i-h)/f+h)):i-=10,b.width(i-h).height(l-h),a.width(i),s=a.height();d.dim={width:k(i),height:k(s)};d.canGrow=d.autoSize&&l>r&&l<p;d.canShrink=!1;d.canExpand=!1;if(i-h<d.width||l-h<d.height)d.canExpand=!0;else if((i>e.w||s>e.h)&&i>q&&l>r)d.canShrink=!0;g.innerSpace=s-h-b.height()},_getPosition:function(a){var b=g.current,c=g.getViewport(),d=b.margin,e=g.wrap.width()+d[1]+d[3],f=g.wrap.height()+d[0]+d[2],h={position:"absolute",top:d[0]+c.y,left:d[3]+c.x};b.autoCenter&&b.fixed&&!a&&f<=c.h&&e<=c.w&&(h={position:"fixed",top:d[0],left:d[3]});h.top=k(Math.max(h.top,h.top+(c.h-f)*b.topRatio));h.left=k(Math.max(h.left,h.left+.5*(c.w-e)));return h},_afterZoomIn:function(){var a=g.current,b=a?a.scrolling:"no";if(a&&(g.isOpen=g.isOpened=!0,g.wrap.addClass("fancybox-opened"),g.inner.css("overflow","yes"===b?"scroll":"no"===b?"hidden":b),g.trigger("afterShow"),g.update(),(a.closeClick||a.nextClick)&&g.inner.css("cursor","pointer").bind("click.fb",function(b){if(!c(b.target).is("a")&&!c(b.target).parent().is("a"))g[a.closeClick?"close":"next"]()}),a.closeBtn&&c(a.tpl.closeBtn).appendTo(g.skin).bind("click.fb",g.close),a.arrows&&1<g.group.length&&((a.loop||0<a.index)&&c(a.tpl.prev).appendTo(g.outer).bind("click.fb",g.prev),(a.loop||a.index<g.group.length-1)&&c(a.tpl.next).appendTo(g.outer).bind("click.fb",g.next)),g.opts.autoPlay&&!g.player.isActive))g.opts.autoPlay=!1,g.play()},_afterZoomOut:function(){var a=g.current;g.wrap.trigger("onReset").remove();c.extend(g,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null});g.trigger("afterClose",a)}});g.transitions={getOrigPosition:function(){var a=g.current,b=a.element,d=a.padding,e=c(a.orig),f={},h=50,i=50;!e.length&&a.isDom&&c(b).is(":visible")&&(e=c(b).find("img:first"),e.length||(e=c(b)));e.length?(f=e.offset(),e.is("img")&&(h=e.outerWidth(),i=e.outerHeight())):(a=g.getViewport(),f.top=a.y+.5*(a.h-i),f.left=a.x+.5*(a.w-h));return f={top:k(f.top-d),left:k(f.left-d),width:k(h+2*d),height:k(i+2*d)}},step:function(a,b){var c=b.prop,d,e;if("width"===c||"height"===c)d=Math.ceil(a-2*g.current.padding),"height"===c&&(e=(a-b.start)/(b.end-b.start),b.start>b.end&&(e=1-e),d-=g.innerSpace*e),g.inner[c](d)},zoomIn:function(){var a=g.wrap,b=g.current,d=b.openEffect,e="elastic"===d,f=c.extend({},b.dim,g._getPosition(e)),h=c.extend({opacity:1},f);delete h.position;e?(f=this.getOrigPosition(),b.openOpacity&&(f.opacity=0),g.outer.add(g.inner).width("auto").height("auto")):"fade"===d&&(f.opacity=0);a.css(f).show().animate(h,{duration:"none"===d?0:b.openSpeed,easing:b.openEasing,step:e?this.step:null,complete:g._afterZoomIn})},zoomOut:function(){var a=g.wrap,b=g.current,c=b.openEffect,d="elastic"===c,e={opacity:0};d&&("fixed"===a.css("position")&&a.css(g._getPosition(!0)),e=this.getOrigPosition(),b.closeOpacity&&(e.opacity=0));a.animate(e,{duration:"none"===c?0:b.closeSpeed,easing:b.closeEasing,step:d?this.step:null,complete:g._afterZoomOut})},changeIn:function(){var a=g.wrap,b=g.current,c=b.nextEffect,d="elastic"===c,e=g._getPosition(d),f={opacity:1};e.opacity=0;d&&(e.top=k(parseInt(e.top,10)-200),f.top="+=200px");a.css(e).show().animate(f,{duration:"none"===c?0:b.nextSpeed,easing:b.nextEasing,complete:g._afterZoomIn})},changeOut:function(){var a=g.wrap,b=g.current,d=b.prevEffect,e={opacity:0};a.removeClass("fancybox-opened");"elastic"===d&&(e.top="+=200px");a.animate(e,{duration:"none"===d?0:b.prevSpeed,easing:b.prevEasing,complete:function(){c(this).trigger("onReset").remove()}})}};g.helpers.overlay={overlay:null,update:function(){var a,d;this.overlay.width("100%").height("100%");c.browser.msie||i?(a=Math.max(b.documentElement.scrollWidth,b.body.scrollWidth),d=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),a=a<d?e.width():a):a=f.width();this.overlay.width(a).height(f.height())},beforeShow:function(a){this.overlay||(a=c.extend(!0,{},g.defaults.helpers.overlay,a),this.overlay=c('<div id="fancybox-overlay"></div>').css(a.css).appendTo("body"),a.closeClick&&this.overlay.bind("click.fb",g.close),g.current.fixed&&!i?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(a.speedIn,a.opacity))},afterClose:function(a){this.overlay&&this.overlay.fadeOut(a.speedOut||0,function(){c(this).remove()});this.overlay=null}};g.helpers.title={beforeShow:function(a){var b;if(b=g.current.title)b=c('<div class="fancybox-title fancybox-title-'+a.type+'-wrap">'+b+"</div>").appendTo("body"),"float"===a.type&&(b.width(b.width()),b.wrapInner('<span class="child"></span>'),g.current.margin[2]+=Math.abs(parseInt(b.css("margin-bottom"),10))),b.appendTo("over"===a.type?g.inner:"outside"===a.type?g.wrap:g.skin)}};c.fn.fancybox=function(a){var b=c(this),d=this.selector||"",e,h=function(f){var h=this,i=e,j;!f.ctrlKey&&!f.altKey&&!f.shiftKey&&!f.metaKey&&!c(h).is(".fancybox-wrap")&&(f.preventDefault(),f=a.groupAttr||"data-fancybox-group",j=c(h).attr(f),j||(f="rel",j=h[f]),j&&""!==j&&"nofollow"!==j&&(h=d.length?c(d):b,h=h.filter("["+f+'="'+j+'"]'),i=h.index(this)),a.index=i,g.open(h,a))},a=a||{};e=a.index||0;d?f.undelegate(d,"click.fb-start").delegate(d,"click.fb-start",h):b.unbind("click.fb-start").bind("click.fb-start",h);return this};c(b).ready(function(){g.defaults.fixed=c.support.fixedPosition||!(c.browser.msie&&6>=c.browser.version)&&!i})})(window,document,jQuery);(function(a){var b=a.fancybox;b.helpers.buttons={tpl:'<div id="fancybox-buttons"><ul><li><a class="btnPrev" title="Previous" href="javascript:;"></a></li><li><a class="btnPlay" title="Start slideshow" href="javascript:;"></a></li><li><a class="btnNext" title="Next" href="javascript:;"></a></li><li><a class="btnToggle" title="Toggle size" href="javascript:;"></a></li><li><a class="btnClose" title="Close" href="javascript:jQuery.fancybox.close();"></a></li></ul></div>',list:null,buttons:{},update:function(){var a=this.buttons.toggle.removeClass("btnDisabled btnToggleOn");if(b.current.canShrink){a.addClass("btnToggleOn")}else if(!b.current.canExpand){a.addClass("btnDisabled")}},beforeLoad:function(a){if(b.group.length<2){b.coming.helpers.buttons=false;b.coming.closeBtn=true;return}b.coming.margin[a.position==="bottom"?2:0]+=30},onPlayStart:function(){if(this.list){this.buttons.play.attr("title","Pause slideshow").addClass("btnPlayOn")}},onPlayEnd:function(){if(this.list){this.buttons.play.attr("title","Start slideshow").removeClass("btnPlayOn")}},afterShow:function(c){var d;if(!this.list){this.list=a(c.tpl||this.tpl).addClass(c.position||"top").appendTo("body");this.buttons={prev:this.list.find(".btnPrev").click(b.prev),next:this.list.find(".btnNext").click(b.next),play:this.list.find(".btnPlay").click(b.play),toggle:this.list.find(".btnToggle").click(b.toggle)}}d=this.buttons;if(b.current.index>0||b.current.loop){d.prev.removeClass("btnDisabled")}else{d.prev.addClass("btnDisabled")}if(b.current.loop||b.current.index<b.group.length-1){d.next.removeClass("btnDisabled");d.play.removeClass("btnDisabled")}else{d.next.addClass("btnDisabled");d.play.addClass("btnDisabled")}this.update()},onUpdate:function(){this.update()},beforeClose:function(){if(this.list){this.list.remove()}this.list=null;this.buttons={}}}})(jQuery);(function(a){var b=a.fancybox;b.helpers.media={beforeLoad:function(a,b){var c=b.href||"",d=false,e;if(e=c.match(/(youtube\.com|youtu\.be)\/(v\/|u\/|embed\/|watch\?v=)?([^#\&\?]*).*/i)){c="//www.youtube.com/embed/"+e[3]+"?autoplay=1&autohide=1&fs=1&rel=0&enablejsapi=1";d="iframe"}else if(e=c.match(/vimeo.com\/(\d+)\/?(.*)/)){c="//player.vimeo.com/video/"+e[1]+"?hd=1&autoplay=1&show_title=1&show_byline=1&show_portrait=0&color=&fullscreen=1";d="iframe"}else if(e=c.match(/metacafe.com\/watch\/(\d+)\/?(.*)/)){c="//www.metacafe.com/fplayer/"+e[1]+"/.swf?playerVars=autoPlay=yes";d="swf"}else if(e=c.match(/dailymotion.com\/video\/(.*)\/?(.*)/)){c="//www.dailymotion.com/swf/video/"+e[1]+"?additionalInfos=0&autoStart=1";d="swf"}else if(e=c.match(/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i)){c="//www.twitvid.com/embed.php?autoplay=0&guid="+e[1];d="iframe"}else if(e=c.match(/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i)){c="//twitpic.com/show/full/"+e[1];d="image"}else if(e=c.match(/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i)){c="//"+e[1]+"/p/"+e[2]+"/media/?size=l";d="image"}else if(e=c.match(/maps\.google\.com\/(\?ll=|maps\/?\?q=)(.*)/i)){c="//maps.google.com/"+e[1]+""+e[2]+"&output="+(e[2].indexOf("layer=c")?"svembed":"embed");d="iframe"}if(d){b.href=c;b.type=d}}}})(jQuery);(function(a){var b=a.fancybox;b.helpers.thumbs={wrap:null,list:null,width:0,source:function(b){var c;if(a.type(b)==="string"){return b}c=a(b).find("img");return c.length?c.attr("src"):b.href},init:function(c){var d=this,e,f=c.width||50,g=c.height||50,h=c.source||this.source;e="";for(var i=0;i<b.group.length;i++){e+='<li><a style="width:'+f+"px;height:"+g+'px;" href="javascript:jQuery.fancybox.jumpto('+i+');"></a></li>'}this.wrap=a('<div id="fancybox-thumbs"></div>').addClass(c.position||"bottom").appendTo("body");this.list=a("<ul>"+e+"</ul>").appendTo(this.wrap);a.each(b.group,function(c){a("<img />").load(function(){var b=this.width,e=this.height,h,i,j;if(!d.list||!b||!e){return}h=b/f;i=e/g;j=d.list.children().eq(c).find("a");if(h>=1&&i>=1){if(h>i){b=Math.floor(b/i);e=g}else{b=f;e=Math.floor(e/h)}}a(this).css({width:b,height:e,top:Math.floor(g/2-e/2),left:Math.floor(f/2-b/2)});j.width(f).height(g);a(this).hide().appendTo(j).fadeIn(300)}).attr("src",h(b.group[c]))});this.width=this.list.children().eq(0).outerWidth(true);this.list.width(this.width*(b.group.length+1)).css("left",Math.floor(a(window).width()*.5-(b.current.index*this.width+this.width*.5)))},update:function(c){if(this.list){this.list.stop(true).animate({left:Math.floor(a(window).width()*.5-(b.current.index*this.width+this.width*.5))},150)}},beforeLoad:function(a){if(b.group.length<2){b.coming.helpers.thumbs=false;return}b.coming.margin[a.position==="top"?0:2]=a.height+30},afterShow:function(a){if(this.list){this.update(a)}else{this.init(a)}this.list.children().removeClass("active").eq(b.current.index).addClass("active")},onUpdate:function(){this.update()},beforeClose:function(){if(this.wrap){this.wrap.remove()}this.wrap=null;this.list=null;this.width=0}}})(jQuery);(function(){var a;a=function(){function a(){this.options_index=0;this.parsed=[]}a.prototype.add_node=function(a){if(a.nodeName==="OPTGROUP"){return this.add_group(a)}else{return this.add_option(a)}};a.prototype.add_group=function(a){var b,c,d,e,f,g;b=this.parsed.length;this.parsed.push({array_index:b,group:true,label:a.label,children:0,disabled:a.disabled});f=a.childNodes;g=[];for(d=0,e=f.length;d<e;d++){c=f[d];g.push(this.add_option(c,b,a.disabled))}return g};a.prototype.add_option=function(a,b,c){if(a.nodeName==="OPTION"){if(a.text!==""){if(b!=null)this.parsed[b].children+=1;this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===true?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};return a}();a.select_to_array=function(b){var c,d,e,f,g;d=new a;g=b.childNodes;for(e=0,f=g.length;e<f;e++){c=g[e];d.add_node(c)}return d.parsed};this.SelectParser=a}).call(this);(function(){var a,b;b=this;a=function(){function a(a,b){this.form_field=a;this.options=b!=null?b:{};this.set_default_values();this.is_multiple=this.form_field.multiple;this.set_default_text();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}a.prototype.set_default_values=function(){var a=this;this.click_test_action=function(b){return a.test_active_click(b)};this.activate_action=function(b){return a.activate_field(b)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.search_contains=this.options.search_contains||false;this.choices=0;this.single_backstroke_delete=this.options.single_backstroke_delete||false;return this.max_selected_options=this.options.max_selected_options||Infinity};a.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options"}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option"}this.addTagOption="";if(this.form_field.getAttribute("data-add-option")){this.addTagOption=this.form_field.getAttribute("data-add-option")}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"};a.prototype.mouse_enter=function(){return this.mouse_on_container=true};a.prototype.mouse_leave=function(){return this.mouse_on_container=false};a.prototype.input_focus=function(a){var b=this;if(!this.active_field){return setTimeout(function(){return b.container_mousedown()},50)}};a.prototype.input_blur=function(a){var b=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout(function(){return b.blur_test()},100)}};a.prototype.result_add_option=function(a){var b,c;if(!a.disabled){a.dom_id=this.container_id+"_o_"+a.array_index;b=a.selected&&this.is_multiple?[]:["active-result"];if(a.selected)b.push("result-selected");if(a.group_array_index!=null)b.push("group-option");if(a.classes!=="")b.push(a.classes);c=a.style.cssText!==""?' style="'+a.style+'"':"";return'<li id="'+a.dom_id+'" class="'+b.join(" ")+'"'+c+">"+a.html+"</li>"}else{return""}};a.prototype.results_update_field=function(){if(!this.is_multiple)this.results_reset_cleanup();this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};a.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};a.prototype.results_search=function(a){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};a.prototype.keyup_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode;this.search_field_scale();switch(b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}else if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:a.preventDefault();if(this.results_showing)return this.result_select(a);break;case 27:if(this.results_showing)this.results_hide();return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};a.prototype.generate_field_id=function(){var a;a=this.generate_random_id();this.form_field.id=a;return a};a.prototype.generate_random_char=function(){var a,b,c;a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";c=Math.floor(Math.random()*a.length);return b=a.substring(c,c+1)};return a}();b.AbstractChosen=a}).call(this);(function(){var a,b,c,d,e=Object.prototype.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b){if(e.call(b,c))a[c]=b[c]}d.prototype=b.prototype;a.prototype=new d;a.__super__=b.prototype;return a};d=this;a=jQuery;a.fn.extend({chosen:function(c){if(a.browser.msie&&(a.browser.version==="6.0"||a.browser.version==="7.0")){return this}return this.each(function(d){var e;e=a(this);if(!e.hasClass("chzn-done")){return e.data("chosen",new b(this,c))}})}});b=function(b){function e(){e.__super__.constructor.apply(this,arguments)}f(e,b);e.prototype.setup=function(){this.form_field_jq=a(this.form_field);this.current_value=this.form_field_jq.val();return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};e.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};e.prototype.set_up_html=function(){var b,d,e,f;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn";this.f_width=this.form_field_jq.outerWidth();b=a("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"});if(this.is_multiple){b.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>')}else{b.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>')}this.form_field_jq.hide().after(b);this.container=a("#"+this.container_id);this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single"));this.dropdown=this.container.find("div.chzn-drop").first();d=this.container.height();e=this.f_width-c(this.dropdown);this.dropdown.css({width:e+"px",top:d+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first();f=e-c(this.search_container)-c(this.search_field);this.search_field.css({width:f+"px"})}this.results_build();this.set_tab_index();return this.form_field_jq.trigger("liszt:ready",{chosen:this})};e.prototype.register_observers=function(){var a=this;this.container.mousedown(function(b){return a.container_mousedown(b)});this.container.mouseup(function(b){return a.container_mouseup(b)});this.container.mouseenter(function(b){return a.mouse_enter(b)});this.container.mouseleave(function(b){return a.mouse_leave(b)});this.search_results.mouseup(function(b){return a.search_results_mouseup(b)});this.search_results.mouseover(function(b){return a.search_results_mouseover(b)});this.search_results.mouseout(function(b){return a.search_results_mouseout(b)});this.form_field_jq.bind("liszt:updated",function(b){return a.results_update_field(b)});this.search_field.blur(function(b){return a.input_blur(b)});this.search_field.keyup(function(b){return a.keyup_checker(b)});this.search_field.keydown(function(b){return a.keydown_checker(b)});if(this.is_multiple){this.search_choices.click(function(b){return a.choices_click(b)});return this.search_field.focus(function(b){return a.input_focus(b)})}else{return this.container.click(function(a){return a.preventDefault()})}};e.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};e.prototype.container_addTag_click=function(a){this.form_field.options[this.form_field.options.length]=new Option(this.search_results.find(".no-results SPAN").html().replace(",","."),0,true);this.results_update_field(a)};e.prototype.container_mousedown=function(b){var c;if(!this.is_disabled){c=b!=null?a(b.target).hasClass("search-choice-close"):false;if(b&&b.type==="mousedown"&&!this.results_showing){b.stopPropagation()}if(!this.pending_destroy_click&&!c){if(!this.active_field){if(this.is_multiple)this.search_field.val("");a(document).click(this.click_test_action);this.results_show()}else if(!this.is_multiple&&b&&(a(b.target)[0]===this.selected_item[0]||a(b.target).parents("a.chzn-single").length)){b.preventDefault();this.results_toggle()}return this.activate_field()}else{return this.pending_destroy_click=false}}};e.prototype.container_mouseup=function(a){if(a.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(a)}};e.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};e.prototype.close_field=function(){a(document).unbind("click",this.click_test_action);if(!this.is_multiple){this.selected_item.attr("tabindex",this.search_field.attr("tabindex"));this.search_field.attr("tabindex",-1)}this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};e.prototype.activate_field=function(){if(!this.is_multiple&&!this.active_field){this.search_field.attr("tabindex",this.selected_item.attr("tabindex"));this.selected_item.attr("tabindex",-1)}this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};e.prototype.test_active_click=function(b){if(a(b.target).parents("#"+this.container_id).length){return this.active_field=true}else{return this.close_field()}};e.prototype.results_build=function(){var a,b,c,e,f;this.parsing=true;this.results_data=d.SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices>0){this.search_choices.find("li.search-choice").remove();this.choices=0}else if(!this.is_multiple){this.selected_item.addClass("chzn-default").find("span").text(this.default_text);if(this.form_field.options.length<=this.disable_search_threshold){this.container.addClass("chzn-container-single-nosearch")}else{this.container.removeClass("chzn-container-single-nosearch")}}a="";f=this.results_data;for(c=0,e=f.length;c<e;c++){b=f[c];if(b.group){a+=this.result_add_group(b)}else if(!b.empty){a+=this.result_add_option(b);if(b.selected&&this.is_multiple){this.choice_build(b)}else if(b.selected&&!this.is_multiple){this.selected_item.removeClass("chzn-default").find("span").text(b.text);if(this.allow_single_deselect)this.single_deselect_control_build()}}}this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(a);return this.parsing=false};e.prototype.result_add_group=function(b){if(!b.disabled){b.dom_id=this.container_id+"_g_"+b.array_index;return'<li id="'+b.dom_id+'" class="group-result">'+a("<div />").text(b.label).html()+"</li>"}else{return""}};e.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){this.result_clear_highlight();this.result_highlight=a;this.result_highlight.addClass("highlighted");d=parseInt(this.search_results.css("maxHeight"),10);f=this.search_results.scrollTop();e=d+f;c=this.result_highlight.position().top+this.search_results.scrollTop();b=c+this.result_highlight.outerHeight();if(b>=e){return this.search_results.scrollTop(b-d>0?b-d:0)}else if(c<f){return this.search_results.scrollTop(c)}}};e.prototype.result_clear_highlight=function(){if(this.result_highlight)this.result_highlight.removeClass("highlighted");return this.result_highlight=null};e.prototype.results_show=function(){var a;if(!this.is_multiple){this.selected_item.addClass("chzn-single-with-drop");if(this.result_single_selected){this.result_do_highlight(this.result_single_selected)}}else if(this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}a=this.is_multiple?this.container.height():this.container.height()-1;this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.dropdown.css({top:a+"px",left:0});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};e.prototype.results_hide=function(){if(!this.is_multiple){this.selected_item.removeClass("chzn-single-with-drop")}this.result_clear_highlight();this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this});this.dropdown.css({left:"-9000px"});return this.results_showing=false};e.prototype.set_tab_index=function(a){var b;if(this.form_field_jq.attr("tabindex")){b=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);if(this.is_multiple){return this.search_field.attr("tabindex",b)}else{this.selected_item.attr("tabindex",b);return this.search_field.attr("tabindex",-1)}}};e.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};e.prototype.search_results_mouseup=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c.length){this.result_highlight=c;return this.result_select(b)}};e.prototype.search_results_mouseover=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c)return this.result_do_highlight(c)};e.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result"||a(b.target).parents(".active-result").first())){return this.result_clear_highlight()}};e.prototype.choices_click=function(b){b.preventDefault();if(this.active_field&&!a(b.target).hasClass("search-choice"||a(b.target).parents(".search-choice").first)&&!this.results_showing){return this.results_show()}};e.prototype.choice_build=function(b){var c,d,e=this;if(this.is_multiple&&this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}c=this.container_id+"_c_"+b.array_index;this.choices+=1;this.search_container.before('<li class="search-choice'+(b.value==0?" search-choice-add":"")+'" id="'+c+'"><span>'+b.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+b.array_index+'"></a></li>');d=a("#"+c).find("a").first();return d.click(function(a){return e.choice_destroy_link_click(a)})};e.prototype.choice_destroy_link_click=function(b){b.preventDefault();if(!this.is_disabled){this.pending_destroy_click=true;return this.choice_destroy(a(b.target))}else{return b.stopPropagation}};e.prototype.choice_destroy=function(a){this.choices-=1;this.show_search_field_default();if(this.is_multiple&&this.choices>0&&this.search_field.val().length<1){this.results_hide()}this.result_deselect(a.attr("rel"));return a.parents("li").first().remove()};e.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_item.find("span").text(this.default_text);if(!this.is_multiple)this.selected_item.addClass("chzn-default");this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()};e.prototype.results_reset_cleanup=function(){return this.selected_item.find("abbr").remove()};e.prototype.result_select=function(a){var b,c,d,e;if(this.result_highlight){b=this.result_highlight;c=b.attr("id");this.result_clear_highlight();if(this.is_multiple){this.result_deactivate(b)}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=b;this.selected_item.removeClass("chzn-default")}b.addClass("result-selected");e=c.substr(c.lastIndexOf("_")+1);d=this.results_data[e];d.selected=true;this.form_field.options[d.options_index].selected=true;if(this.is_multiple){this.choice_build(d)}else{this.selected_item.find("span").first().text(d.text);if(this.allow_single_deselect)this.single_deselect_control_build()}if(!(a.metaKey&&this.is_multiple))this.results_hide();this.search_field.val("");if(this.is_multiple||this.form_field_jq.val()!==this.current_value){this.form_field_jq.trigger("change",{selected:this.form_field.options[d.options_index].value})}this.current_value=this.form_field_jq.val();return this.search_field_scale()}};e.prototype.result_activate=function(a){return a.addClass("active-result")};e.prototype.result_deactivate=function(a){return a.removeClass("active-result")};e.prototype.result_deselect=function(b){var c,d;d=this.results_data[b];d.selected=false;this.form_field.options[d.options_index].selected=false;c=a("#"+this.container_id+"_o_"+b);c.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[d.options_index].value});return this.search_field_scale()};e.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}};e.prototype.winnow_results=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;this.no_results_clear();j=0;k=this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html();g=this.search_contains?"":"^";f=new RegExp(g+k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");n=new RegExp(k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");s=this.results_data;for(o=0,q=s.length;o<q;o++){c=s[o];if(!c.disabled&&!c.empty){if(c.group){a("#"+c.dom_id).css("display","none")}else if(!(this.is_multiple&&c.selected)){b=false;i=c.dom_id;h=a("#"+i);if(f.test(c.html)){b=true;j+=1}else if(c.html.indexOf(" ")>=0||c.html.indexOf("[")===0){e=c.html.replace(/\[|\]/g,"").split(" ");if(e.length){for(p=0,r=e.length;p<r;p++){d=e[p];if(f.test(d)){b=true;j+=1}}}}if(b){if(k.length){l=c.html.search(n);m=c.html.substr(0,l+k.length)+"</em>"+c.html.substr(l+k.length);m=m.substr(0,l)+"<em>"+m.substr(l)}else{m=c.html}h.html(m);this.result_activate(h);if(c.group_array_index!=null){a("#"+this.results_data[c.group_array_index].dom_id).css("display","list-item")}}else{if(this.result_highlight&&i===this.result_highlight.attr("id")){this.result_clear_highlight()}this.result_deactivate(h)}}}}if(j<1&&k.length){return this.no_results(k)}else{return this.winnow_results_set_highlight()}};e.prototype.winnow_results_clear=function(){var b,c,d,e,f;this.search_field.val("");c=this.search_results.find("li");f=[];for(d=0,e=c.length;d<e;d++){b=c[d];b=a(b);if(b.hasClass("group-result")){f.push(b.css("display","auto"))}else if(!this.is_multiple||!b.hasClass("result-selected")){f.push(this.result_activate(b))}else{f.push(void 0)}}return f};e.prototype.winnow_results_set_highlight=function(){var a,b;if(!this.result_highlight){b=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];a=b.length?b.first():this.search_results.find(".active-result").first();if(a!=null)return this.result_do_highlight(a)}};e.prototype.no_results=function(b){var c;c=a('<li class="no-results">'+this.results_none_found+' "<span></span>" '+(this.addTagOption!=""?'<div class="chzn-addTag"><a> INSERISCI<a/></div>':"")+"</li>");c.find("span").first().html(b);if(b.length>2)c.find(".chzn-addTag").show();else c.find(".chzn-addTag").hide();var d=this;c.find(".chzn-addTag A").click(function(a){return d.container_addTag_click(a)});return this.search_results.append(c)};e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};e.prototype.keydown_arrow=function(){var b,c;if(!this.result_highlight){b=this.search_results.find("li.active-result").first();if(b)this.result_do_highlight(a(b))}else if(this.results_showing){c=this.result_highlight.nextAll("li.active-result").first();if(c)this.result_do_highlight(c)}if(!this.results_showing)return this.results_show()};e.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else if(this.result_highlight){a=this.result_highlight.prevAll("li.active-result");if(a.length){return this.result_do_highlight(a.first())}else{if(this.choices>0)this.results_hide();return this.result_clear_highlight()}}};e.prototype.keydown_backstroke=function(){if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{this.pending_backstroke=this.search_container.siblings("li.search-choice").last();if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}};e.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};e.prototype.keydown_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode;this.search_field_scale();if(b!==8&&this.pending_backstroke)this.clear_backstroke();switch(b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple)this.result_select(a);this.mouse_on_container=false;break;case 13:a.preventDefault();if(this.addTagOption!="")this.container_addTag_click(a);break;case 38:a.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow();break}};e.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){d=0;h=0;f="position:absolute; left: -1000px; top: -1000px; display:none;";g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(i=0,j=g.length;i<j;i++){e=g[i];f+=e+":"+this.search_field.css(e)+";"}c=a("<div />",{style:f});c.text(this.search_field.val());a("body").append(c);h=c.width()+25;c.remove();if(h>this.f_width-10)h=this.f_width-10;this.search_field.css({width:h+"px"});b=this.container.height();return this.dropdown.css({top:b+"px"})}};e.prototype.generate_random_id=function(){var b;b="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(a("#"+b).length>0){b+=this.generate_random_char()}return b};return e}(AbstractChosen);c=function(a){var b;return b=a.outerWidth()-a.width()};d.get_side_border_padding=c}).call(this);eval(function(a,b,c,d,e,f){e=function(a){return(a<b?"":e(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(c--)f[e(c)]=d[c]||e(c);d=[function(a){return f[a]}];e=function(){return"\\w+"};c=1}while(c--)if(d[c])a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]);return a}(';(6($){3 1N="";3 3B=6(s,u){3 v=s;3 x=1b;3 u=$.3C({1c:4s,2w:7,2S:23,1O:9,1P:4t,3D:\'2g\',1J:10,3E:\'4u\',2T:\'\',2U:9,1k:\'\'},u);1b.1Z=21 3F();3 y="";3 z={};z.2V=9;z.2x=10;z.2y=1r;3 A=10;3 B={2W:\'4v\',1Q:\'4w\',1K:\'4x\',2h:\'4y\',1g:\'4z\',2X:\'4A\',2Y:\'4B\',4C:\'4D\',2z:\'4E\',3G:\'4F\'};3 C={2g:u.3D,2Z:\'2Z\',31:\'31\',32:\'32\',1w:\'1w\',1l:.30,1R:\'1R\',2A:\'2A\',2B:\'2B\',15:\'15\'};3 D={3H:"2C,33,34,1S,2D,2E,1s,1A,2F,1T,4G,22,35",1a:"1B,1x,1l,4H"};1b.1U=21 3F();3 E=$(v).1a("1d");5(1e(E)=="14"||E.18<=0){E="4I"+$.1V.3I++;$(v).2i("1d",E)};3 F=$(v).1a("1k");u.1k+=(F==14)?"":F;3 G=$(v).3J();A=($(v).1a("1B")>1||$(v).1a("1x")==9)?9:10;5(A){u.2w=$(v).1a("1B")};3 H={};3 I=0;3 J=10;3 K;3 L=10;3 M={};3 N="";3 O=6(a){5(1e(M[a])=="14"){M[a]=1o.4J(a)}11 M[a]};3 P=6(a){11 E+B[a]};3 Q=6(a){3 b=a;3 c=$(b).1a("1k");11(1e c=="14")?"":c.4K};3 R=6(a){3 b=$("#"+E+" 36:15");5(b.18>1){1C(3 i=0;i<b.18;i++){5(a==b[i].1j){11 9}}}19 5(b.18==1){5(b[0].1j==a){11 9}};11 10};3 S=6(a,b,c,d){3 e="";3 f=(d=="3a")?P("2Y"):P("2X");3 g=(d=="3a")?f+"3b"+(b)+"3b"+(c):f+"3b"+(b);3 h="";3 t="";3 i="";3 j="";5(u.1J!=10){i=\' \'+u.1J+\' \'+a.3K}19{h=$(a).1a("1p");3 k=21 3L(/^\\{.*\\}$/);3 l=k.3M(h);5(u.2U==9&&l==9){5(h.18!=0){3 m=24("["+h+"]");1W=(1e m[0].2j=="14")?"":m[0].2j;t=(1e m[0].1p=="14")?"":m[0].1p;j=(1e m[0].3N=="14")?"":m[0].3N;h=(1W.18==0)?"":\'<1W 2G="\'+1W+\'" 2H="2I" /> \'}}19{h=(h.18==0)?"":\'<1W 2G="\'+h+\'" 2H="2I" /> \'}};3 n=$(a).1t();3 o=$(a).4L();3 p=($(a).1a("1l")==9)?"1l":"3c";H[g]={1L:h+n,2k:o,1t:n,1j:a.1j,1d:g,1p:t};3 q=Q(a);5(R(a.1j)==9){e+=\'<a 3O="3P:3Q(0);" 1u="\'+C.15+\' \'+p+i+\'"\'}19{e+=\'<a  3O="3P:3Q(0);" 1u="\'+p+i+\'"\'};5(q!==10&&q!==14&&q.18!=0){e+=" 1k=\'"+q+"\'"};5(t!==""){e+=" 1p=\'"+t+"\'"};e+=\' 1d="\'+g+\'">\';e+=h+\'<1y 1u="\'+C.1w+\'">\'+n+\'</1y>\';5(j!==""){e+=j};e+=\'</a>\';11 e};3 T=6(t){3 b=t.3d();5(b.18==0)11-1;3 a="";1C(3 i 2l H){3 c=H[i].1t.3d();5(c.3R(0,b.18)==b){a+="#"+H[i].1d+", "}};11(a=="")?-1:a};3 U=6(){3 f=G;5(f.18==0)11"";3 g="";3 h=P("2X");3 i=P("2Y");f.3e(6(c){3 d=f[c];5(d.4M.4N().3d()=="4O"){g+="<1z 1u=\'4P\'>";g+="<1y 1k=\'3S-4Q:4R;3S-1k:4S;4T:4U;\'>"+$(d).1a("4V")+"</1y>";3 e=$(d).3J();e.3e(6(a){3 b=e[a];g+=S(b,c,a,"3a")});g+="</1z>"}19{g+=S(d,c,"","")}});11 g};3 V=6(){3 a=P("1Q");3 b=P("1g");3 c=u.1k;25="";25+=\'<1z 1d="\'+b+\'" 1u="\'+C.32+\'"\';5(!A){25+=(c!="")?\' 1k="\'+c+\'"\':\'\'}19{25+=(c!="")?\' 1k="2J-1D:4W 4X #4Y;1q:2m;1m:2K;\'+c+\'"\':\'\'};25+=\'>\';11 25};3 W=6(){3 a=P("1K");3 b=P("2z");3 c=P("2h");3 d=P("3G");3 e="";3 f="";5(O(E).1E.18>0){e=$("#"+E+" 36:15").1t();f=$("#"+E+" 36:15").1a("1p")};3 g="";3 t="";3 h=21 3L(/^\\{.*\\}$/);3 i=h.3M(f);5(u.2U==9&&i==9){5(f.18!=0){3 j=24("["+f+"]");g=(1e j[0].2j=="14")?"":j[0].2j;t=(1e j[0].1p=="14")?"":j[0].1p;f=(g.18==0||u.1O==10||u.1J!=10)?"":\'<1W 2G="\'+g+\'" 2H="2I" /> \'}}19{f=(f.18==0||f==14||u.1O==10||u.1J!=10)?"":\'<1W 2G="\'+f+\'" 2H="2I" /> \'};3 k=\'<1z 1d="\'+a+\'" 1u="\'+C.2Z+\'"\';k+=\'>\';k+=\'<1y 1d="\'+b+\'" 1u="\'+C.31+\'"></1y><1y 1u="\'+C.1w+\'" 1d="\'+c+\'">\'+f+\'<1y 1u="\'+C.1w+\'">\'+e+\'</1y></1y></1z>\';11 k};3 X=6(){3 c=P("1g");$("#"+c+" a.3c").1F("1S");$("#"+c+" a.3c").1f("1S",6(a){a.26();3f(1b);28();5(!A){$("#"+c).1F("1A");29(10);3 b=(u.1O==10)?$(1b).1t():$(1b).1L();1X(b);x.2n()}})};3 Y=6(){3 d=10;3 e=P("1Q");3 f=P("1K");3 g=P("2h");3 h=P("1g");3 i=P("2z");3 j=$("#"+E).4Z();3 k=u.1k;5($("#"+e).18>0){$("#"+e).2L();d=9};3 l=\'<1z 1d="\'+e+\'" 1u="\'+C.2g+\'"\';l+=(k!="")?\' 1k="\'+k+\'"\':\'\';l+=\'>\';l+=W();l+=V();l+=U();l+="</1z>";l+="</1z>";5(d==9){3 m=P("2W");$("#"+m).3g(l)}19{$("#"+E).3g(l)};5(A){3 f=P("1K");$("#"+f).2o()};$("#"+e).12("3T",j+"1v");$("#"+h).12("3T",(j-2)+"1v");5(G.18>u.2w){3 n=2p($("#"+h+" a:3h").12("2q-3U"))+2p($("#"+h+" a:3h").12("2q-1D"));3 o=((u.2S)*u.2w)-n;$("#"+h).12("1c",o+"1v")}19 5(A){3 o=$("#"+E).1c();$("#"+h).12("1c",o+"1v")};5(d==10){3V();3W(E)};5($("#"+E).1a("1l")==9){$("#"+e).12("2M",C.1l)};3X();$("#"+f).1f("1A",6(a){3i(1)});$("#"+f).1f("1T",6(a){3i(0)});X();$("#"+h+" a.1l").12("2M",C.1l);5(A){$("#"+h).1f("1A",6(c){5(!z.2x){z.2x=9;$(1o).1f("22",6(a){3 b=a.3Y;z.2y=b;5(b==39||b==40){a.26();a.2r();3j();28()};5(b==37||b==38){a.26();a.2r();3k();28()}})}})};$("#"+h).1f("1T",6(a){29(10);$(1o).1F("22",2N);z.2x=10;z.2y=1r});$("#"+f).1f("1S",6(b){29(10);5($("#"+h+":2a").18==1){$("#"+h).1F("1A")}19{$("#"+h).1f("1A",6(a){29(9)});x.3Z()}});$("#"+f).1f("1T",6(a){29(10)});5(u.1O&&u.1J!=10){2s()}};3 Z=6(a){1C(3 i 2l H){5(H[i].1j==a){11 H[i]}};11-1};3 3f=6(a){3 b=P("1g");5($("#"+b+" a."+C.15).18==1){y=$("#"+b+" a."+C.15).1t()};5(!A){$("#"+b+" a."+C.15).1M(C.15)};3 c=$("#"+b+" a."+C.15).1a("1d");5(c!=14){3 d=(z.2b==14||z.2b==1r)?H[c].1j:z.2b};5(a&&!A){$(a).1G(C.15)};5(A){3 e=z.2y;5($("#"+E).1a("1x")==9){5(e==17){z.2b=H[$(a).1a("1d")].1j;$(a).50(C.15)}19 5(e==16){$("#"+b+" a."+C.15).1M(C.15);$(a).1G(C.15);3 f=$(a).1a("1d");3 g=H[f].1j;1C(3 i=3l.51(d,g);i<=3l.52(d,g);i++){$("#"+Z(i).1d).1G(C.15)}}19{$("#"+b+" a."+C.15).1M(C.15);$(a).1G(C.15);z.2b=H[$(a).1a("1d")].1j}}19{$("#"+b+" a."+C.15).1M(C.15);$(a).1G(C.15);z.2b=H[$(a).1a("1d")].1j}}};3 3W=6(a){3 b=a;O(b).53=6(e){$("#"+b).1V(u)}};3 29=6(a){z.2V=a};3 41=6(){11 z.2V};3 3X=6(){3 b=P("1Q");3 c=D.3H.54(",");1C(3 d=0;d<c.18;d++){3 e=c[d];3 f=2c(e);5(f==9){2O(e){1h"2C":$("#"+b).1f("55",6(a){O(E).2C()});1i;1h"1S":$("#"+b).1f("1S",6(a){$("#"+E).1H("1S")});1i;1h"2D":$("#"+b).1f("2D",6(a){$("#"+E).1H("2D")});1i;1h"2E":$("#"+b).1f("2E",6(a){$("#"+E).1H("2E")});1i;1h"1s":$("#"+b).1f("1s",6(a){$("#"+E).1H("1s")});1i;1h"1A":$("#"+b).1f("1A",6(a){$("#"+E).1H("1A")});1i;1h"2F":$("#"+b).1f("2F",6(a){$("#"+E).1H("2F")});1i;1h"1T":$("#"+b).1f("1T",6(a){$("#"+E).1H("1T")});1i}}}};3 3V=6(){3 a=P("2W");$("#"+E).3g("<1z 1u=\'"+C.1R+"\' 1k=\'1c:3m;42:43;1m:2P;\' 1d=\'"+a+"\'></1z>");$("#"+E).56($("#"+a))};3 1X=6(a){3 b=P("2h");$("#"+b).1L(a)};3 3n=6(w){3 a=w;3 b=P("1g");3 c=$("#"+b+" a:2a");3 d=c.18;3 e=$("#"+b+" a:2a").1j($("#"+b+" a.15:2a"));3 f;2O(a){1h"3o":5(e<d-1){e++;f=c[e]};1i;1h"44":5(e<d&&e>0){e--;f=c[e]};1i};5(1e(f)=="14"){11 10};$("#"+b+" a."+C.15).1M(C.15);$(f).1G(C.15);3 g=f.1d;5(!A){3 h=(u.1O==10)?H[g].1t:$("#"+g).1L();1X(h);2s(H[g].1j)};5(a=="3o"){5(2p(($("#"+g).1m().1D+$("#"+g).1c()))>=2p($("#"+b).1c())){$("#"+b).2t(($("#"+b).2t())+$("#"+g).1c()+$("#"+g).1c())}}19{5(2p(($("#"+g).1m().1D+$("#"+g).1c()))<=0){$("#"+b).2t(($("#"+b).2t()-$("#"+b).1c())-$("#"+g).1c())}}};3 3j=6(){3n("3o")};3 3k=6(){3n("44")};3 2s=6(i){5(u.1J!=10){3 a=P("2h");3 b=(1e(i)=="14")?O(E).1n:i;3 c=O(E).1E[b].3K;5(c.18>0){3 d=P("1g");3 e=$("#"+d+" a."+c).1a("1d");3 f=$("#"+e).12("1Y-2j");3 g=$("#"+e).12("1Y-1m");5(g==14){g=$("#"+e).12("1Y-1m-x")+" "+$("#"+e).12("1Y-1m-y")};3 h=$("#"+e).12("2q-45");5(f!=14){$("#"+a).2u("."+C.1w).2i(\'1k\',"1Y:"+f)};5(g!=14){$("#"+a).2u("."+C.1w).12(\'1Y-1m\',g)};5(h!=14){$("#"+a).2u("."+C.1w).12(\'2q-45\',h)};$("#"+a).2u("."+C.1w).12(\'1Y-47\',\'57-47\');$("#"+a).2u("."+C.1w).12(\'2q-3U\',\'58\')}}};3 28=6(){3 a=P("1g");3 b=$("#"+a+" a."+C.15);5(b.18==1){3 c=$("#"+a+" a."+C.15).1t();3 d=$("#"+a+" a."+C.15).1a("1d");5(d!=14){3 e=H[d].2k;O(E).1n=H[d].1j};5(u.1O&&u.1J!=10)2s()}19 5(b.18>1){1C(3 i=0;i<b.18;i++){3 d=$(b[i]).1a("1d");3 f=H[d].1j;O(E).1E[f].15="15"}};3 g=O(E).1n;x.1Z["1n"]=g};3 2c=6(a){5($("#"+E).1a("59"+a)!=14){11 9};3 b=$("#"+E).3p("5a");5(b&&b[a]){11 9};11 10};3 3q=6(a){$("#"+E).2C();$("#"+E)[0].33();28();$(1o).1F("1s",2Q);$(1o).1F("1s",3q)};3 48=6(){3 a=P("1g");5(2c(\'34\')==9){3 b=H[$("#"+a+" a.15").1a("1d")].1t;5($.49(y)!==$.49(b)&&y!==""){$("#"+E).1H("34")}};5(2c(\'1s\')==9){$("#"+E).1H("1s")};5(2c(\'33\')==9){$(1o).1f("1s",3q)};11 10};3 3i=6(a){3 b=P("2z");5(a==1)$("#"+b).12({4a:\'0 5b%\'});19 $("#"+b).12({4a:\'0 0\'})};3 4b=6(){1C(3 i 2l O(E)){5(1e(O(E)[i])!==\'6\'&&1e(O(E)[i])!=="14"&&1e(O(E)[i])!=="1r"){x.1I(i,O(E)[i],9)}}};3 4c=6(a,b){5(Z(b)!=-1){O(E)[a]=b;3 c=P("1g");$("#"+c+" a."+C.15).1M(C.15);$("#"+Z(b).1d).1G(C.15);3 d=Z(O(E).1n).1L;1X(d)}};3 4d=6(i,a){5(a==\'d\'){1C(3 b 2l H){5(H[b].1j==i){5c H[b];1i}}};3 c=0;1C(3 b 2l H){H[b].1j=c;c++}};3 2R=6(){3 a=P("1g");3 b=P("1Q");3 c=$("#"+b).5d();3 d=$("#"+b).1c();3 e=$(4e).1c();3 f=$(4e).2t();3 g=$("#"+a).1c();3 h={1P:u.1P,1D:(d)+"1v",1q:"2d"};3 i=u.3E;3 j=10;3 k=C.2B;$("#"+a).1M(C.2B);$("#"+a).1M(C.2A);5((e+f)<3l.5e(g+d+c.1D)){3 l=g;h={1P:u.1P,1D:"-"+l+"1v",1q:"2d"};i="2e";j=9;k=C.2A};11{3r:j,4f:i,12:h,2J:k}};3 3s=6(){5(x.1U["4g"]!=1r){24(x.1U["4g"])(x)}};3 3t=6(){48();5(x.1U["4h"]!=1r){24(x.1U["4h"])(x)}};3 2N=6(a){3 b=P("1g");3 c=a.3Y;5(c==8){a.26();a.2r();N=(N.18==0)?"":N.3R(0,N.18-1)};2O(c){1h 39:1h 40:a.26();a.2r();3j();1i;1h 37:1h 38:a.26();a.2r();3k();1i;1h 27:1h 13:x.2n();28();1i;4i:5(c>46){N+=5f.5g(c)};3 d=T(N);5(d!=-1){$("#"+b).12({1c:\'5h\'});$("#"+b+" a").2o();$(d).2e();3 e=2R();$("#"+b).12(e.12);$("#"+b).12({1q:\'2m\'})}19{$("#"+b+" a").2e();$("#"+b).12({1c:K+\'1v\'})};1i};5(2c("22")==9){O(E).5i()};11 10};3 2Q=6(a){5(41()==10){x.2n()};11 10};3 3u=6(a){5($("#"+E).1a("4j")!=14){O(E).4j()};11 10};1b.3Z=6(){5((x.2f("1l",9)==9)||(x.2f("1E",9).18==0))11;3 a=P("1g");5(1N!=""&&a!=1N){$("#"+1N).4k("3v");$("#"+1N).12({1P:\'0\'})};5($("#"+a).12("1q")=="2d"){y=H[$("#"+a+" a.15").1a("1d")].1t;N="";K=$("#"+a).1c();$("#"+a+" a").2e();$(1o).1f("22",2N);$(1o).1f("35",3u);$(1o).1f("1s",2Q);3 b=2R();$("#"+a).12(b.12);5(b.3r==9){$("#"+a).12({1q:\'2m\'});$("#"+a).1G(b.2J);3s()}19{$("#"+a)[b.4f]("3v",6(){$("#"+a).1G(b.2J);3s()})};5(a!=1N){1N=a}}};1b.2n=6(){3 b=P("1g");5(!$("#"+b).4l(":2a")||L)11;L=9;5($("#"+b).12("1q")=="2d"){11 10};3 c=$("#"+P("1K")).1m().1D;3 d=2R();J=10;5(d.3r==9){$("#"+b).5j({1c:0,1D:c},6(){$("#"+b).12({1c:K+\'1v\',1q:\'2d\'});3t();L=10})}19{$("#"+b).4k("3v",6(a){3t();$("#"+b).12({1P:\'0\'});$("#"+b).12({1c:K+\'1v\'});L=10})};2s();$(1o).1F("22",2N);$(1o).1F("35",3u);$(1o).1F("1s",2Q)};1b.1n=6(i){5(1e(i)=="14"){11 x.2f("1n")}19{x.1I("1n",i)}};1b.4m=6(a){5(1e(a)=="14"||a==9){$("."+C.1R).5k("1k")}19{$("."+C.1R).2i("1k","1c:3m;42:43;1m:2P")}};1b.1I=6(a,b,c){5(1e a=="14"||1e b=="14")11 10;x.1Z[a]=b;5(c!=9){2O(a){1h"1n":4c(a,b);1i;1h"1l":x.1l(b,9);1i;1h"1x":O(E)[a]=b;A=($(v).1a("1B")>0||$(v).1a("1x")==9)?9:10;5(A){3 d=$("#"+E).1c();3 f=P("1g");$("#"+f).12("1c",d+"1v");3 g=P("1K");$("#"+g).2o();3 f=P("1g");$("#"+f).12({1q:\'2m\',1m:\'2K\'});X()};1i;1h"1B":O(E)[a]=b;5(b==0){O(E).1x=10};A=($(v).1a("1B")>0||$(v).1a("1x")==9)?9:10;5(b==0){3 g=P("1K");$("#"+g).2e();3 f=P("1g");$("#"+f).12({1q:\'2d\',1m:\'2P\'});3 h="";5(O(E).1n>=0){3 i=Z(O(E).1n);h=i.1L;3f($("#"+i.1d))};1X(h)}19{3 g=P("1K");$("#"+g).2o();3 f=P("1g");$("#"+f).12({1q:\'2m\',1m:\'2K\'})};1i;4i:4n{O(E)[a]=b}4o(e){};1i}}};1b.2f=6(a,b){5(a==14&&b==14){11 x.1Z};5(a!=14&&b==14){11(x.1Z[a]!=14)?x.1Z[a]:1r};5(a!=14&&b!=14){11 O(E)[a]}};1b.2a=6(a){3 b=P("1Q");5(a==9){$("#"+b).2e()}19 5(a==10){$("#"+b).2o()}19{11 $("#"+b).12("1q")}};1b.5l=6(a,b){3 c=a;3 d=c.1t;3 e=(c.2k==14||c.2k==1r)?d:c.2k;3 f=(c["1p"]==14||c["1p"]==1r)?\'\':c["1p"];3 i=(b==14||b==1r)?O(E).1E.18:b;O(E).1E[i]=21 5m(d,e);5(f!=\'\')O(E).1E[i]["1p"]=f;3 g=Z(i);5(g!=-1){3 h=S(O(E).1E[i],i,"","");$("#"+g.1d).1L(h)}19{3 h=S(O(E).1E[i],i,"","");3 j=P("1g");$("#"+j).5n(h);X()}};1b.2L=6(i){O(E).2L(i);5((Z(i))!=-1){$("#"+Z(i).1d).2L();4d(i,\'d\')};5(O(E).18==0){1X("")}19{3 a=Z(O(E).1n).1L;1X(a)};x.1I("1n",O(E).1n)};1b.1l=6(a,b){O(E).1l=a;3 c=P("1Q");5(a==9){$("#"+c).12("2M",C.1l);x.2n()}19 5(a==10){$("#"+c).12("2M",1)};5(b!=9){x.1I("1l",a)}};1b.3w=6(){11(O(E).3w==14)?1r:O(E).3w};1b.3x=6(){5(2v.18==1){11 O(E).3x(2v[0])}19 5(2v.18==2){11 O(E).3x(2v[0],2v[1])}19{5o{5p:"5q 1j 4l 5r!"}}};1b.4p=6(a){11 O(E).4p(a)};1b.1x=6(a){5(1e(a)=="14"){11 x.2f("1x")}19{x.1I("1x",a)}};1b.1B=6(a){5(1e(a)=="14"){11 x.2f("1B")}19{x.1I("1B",a)}};1b.5s=6(a,b){x.1U[a]=b};1b.5t=6(a){24(x.1U[a])(x)};1b.5u=6(r){5(1e r=="14"||r==0){11 10};3 a=P("1g");3 b=$("#"+a+" a:3h").1c();3 c=(b==0)?u.2S:b;3 d=r*c;$("#"+a).12("1c",d+"1v")};3 4q=6(){x.1I("3y",$.1V.3y);x.1I("3z",$.1V.3z)};3 4r=6(){Y();4b();4q();5(u.2T!=\'\'){24(u.2T)(x)}};4r()};$.1V={3y:\'2.38.4\',3z:"5v 5w",3I:20,4m:6(v){5(v==9){$(".1R").12({1c:\'5x\',1m:\'2K\'})}19{$(".1R").12({1c:\'3m\',1m:\'2P\'})}},5y:6(a,b){11 $(a).1V(b).3p("2g")}};$.3A.3C({1V:6(b){11 1b.3e(6(){3 a=21 3B(1b,b);$(1b).3p(\'2g\',a)})}});5(1e($.3A.1a)==\'14\'){$.3A.1a=6(w,v){5(1e v=="14"){11 $(1b).2i(w)};4n{$(1b).2i(w,v)}4o(e){}}}})(5z);',62,346,"|||var||if|function|||true|||||||||||||||||||||||||||||||||||||||||||||||||||||false|return|css||undefined|selected|||length|else|prop|this|height|id|typeof|bind|postChildID|case|break|index|style|disabled|position|selectedIndex|document|title|display|null|mouseup|text|class|px|ddTitleText|multiple|span|div|mouseover|size|for|top|options|unbind|addClass|trigger|set|useSprite|postTitleID|html|removeClass|bB|showIcon|zIndex|postID|ddOutOfVision|click|mouseout|onActions|msDropDown|img|bJ|background|ddProp||new|keydown||eval|sDiv|preventDefault||bO|bF|visible|oldIndex|bP|none|show|get|dd|postTitleTextID|attr|image|value|in|block|close|hide|parseInt|padding|stopPropagation|bN|scrollTop|find|arguments|visibleRows|keyboardAction|currentKey|postArrowID|borderTop|noBorderTop|focus|dblclick|mousedown|mousemove|src|align|absmiddle|border|relative|remove|opacity|bZ|switch|absolute|ca|bW|rowHeight|onInit|jsonTitle|insideWindow|postElementHolder|postAID|postOPTAID|ddTitle||arrow|ddChild|blur|change|keyup|option||||opt|_|enabled|toLowerCase|each|bD|after|first|bS|bL|bM|Math|0px|bK|next|data|bQ|opp|bX|bY|cb|fast|form|item|version|author|fn|bC|extend|mainCSS|animStyle|Object|postInputhidden|actions|counter|children|className|RegExp|test|postHTML|href|javascript|void|substr|font|width|bottom|bI|bE|bH|keyCode|open||bG|overflow|hidden|previous|left||repeat|bR|trim|backgroundPosition|bT|bU|bV|window|ani|onOpen|onClose|default|onkeyup|slideUp|is|debug|try|catch|namedItem|cc|cd|120|9999|slideDown|_msddHolder|_msdd|_title|_titletext|_child|_msa|_msopta|postInputID|_msinput|_arrow|_inp|keypress|tabindex|msdrpdd|getElementById|cssText|val|nodeName|toString|optgroup|opta|weight|bold|italic|clear|both|label|1px|solid|c3c3c3|outerWidth|toggleClass|min|max|refresh|split|mouseenter|appendTo|no|2px|on|events|100|delete|offset|floor|String|fromCharCode|auto|onkeydown|animate|removeAttr|add|Option|append|throw|message|An|required|addMyEvent|fireEvent|showRows|Marghoob|Suleman|20px|create|jQuery".split("|"),0,{}));var hasTouch="ontouchstart"in document.documentElement,startEvent=hasTouch?"touchstart":"mousedown",moveEvent=hasTouch?"touchmove":"mousemove",endEvent=hasTouch?"touchend":"mouseup";if(hasTouch){$.each("touchstart touchmove touchend".split(" "),function(a,b){jQuery.event.fixHooks[b]=jQuery.event.mouseHooks});}jQuery.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldY:0,build:function(a){this.each(function(){this.tableDnDConfig=jQuery.extend({onDragStyle:null,onDropStyle:null,onDragClass:"tDnD_whileDrag",onDrop:null,onDragStart:null,scrollAmount:5,serializeRegexp:/[^\-]*$/,serializeParamName:null,dragHandle:null},a||{});jQuery.tableDnD.makeDraggable(this)});return this},makeDraggable:function(a){var b=a.tableDnDConfig;if(b.dragHandle){var c=jQuery(a.tableDnDConfig.dragHandle,a);c.each(function(){jQuery(this).bind(startEvent,function(c){jQuery.tableDnD.initialiseDrag(jQuery(this).parents("tr")[0],a,this,c,b);return false})})}else{var d=jQuery("tr",a);d.each(function(){var c=jQuery(this);if(!c.hasClass("nodrag")){c.bind(startEvent,function(c){if(c.target.tagName=="TD"){jQuery.tableDnD.initialiseDrag(this,a,this,c,b);return false}}).css("cursor","move")}})}},initialiseDrag:function(a,b,c,d,e){jQuery.tableDnD.dragObject=a;jQuery.tableDnD.currentTable=b;jQuery.tableDnD.mouseOffset=jQuery.tableDnD.getMouseOffset(c,d);jQuery.tableDnD.originalOrder=jQuery.tableDnD.serialize();jQuery(document).bind(moveEvent,jQuery.tableDnD.mousemove).bind(endEvent,jQuery.tableDnD.mouseup);if(e.onDragStart){e.onDragStart(b,c)}},updateTables:function(){this.each(function(){if(this.tableDnDConfig){jQuery.tableDnD.makeDraggable(this)}})},mouseCoords:function(a){if(a.pageX||a.pageY){return{x:a.pageX,y:a.pageY}}return{x:a.clientX+document.body.scrollLeft-document.body.clientLeft,y:a.clientY+document.body.scrollTop-document.body.clientTop}},getMouseOffset:function(a,b){b=b||window.event;var c=this.getPosition(a);var d=this.mouseCoords(b);return{x:d.x-c.x,y:d.y-c.y}},getPosition:function(a){var b=0;var c=0;if(a.offsetHeight==0){a=a.firstChild}while(a.offsetParent){b+=a.offsetLeft;c+=a.offsetTop;a=a.offsetParent}b+=a.offsetLeft;c+=a.offsetTop;return{x:b,y:c}},mousemove:function(a){if(jQuery.tableDnD.dragObject==null){return}if(a.type=="touchmove"){event.preventDefault()}var b=jQuery(jQuery.tableDnD.dragObject);var c=jQuery.tableDnD.currentTable.tableDnDConfig;var d=jQuery.tableDnD.mouseCoords(a);var e=d.y-jQuery.tableDnD.mouseOffset.y;var f=window.pageYOffset;if(document.all){if(typeof document.compatMode!="undefined"&&document.compatMode!="BackCompat"){f=document.documentElement.scrollTop}else if(typeof document.body!="undefined"){f=document.body.scrollTop}}if(d.y-f<c.scrollAmount){window.scrollBy(0,-c.scrollAmount)}else{var g=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;if(g-(d.y-f)<c.scrollAmount){window.scrollBy(0,c.scrollAmount)}}if(e!=jQuery.tableDnD.oldY){var h=e>jQuery.tableDnD.oldY;jQuery.tableDnD.oldY=e;if(c.onDragClass){b.addClass(c.onDragClass)}else{b.css(c.onDragStyle)}var i=jQuery.tableDnD.findDropTargetRow(b,e);if(i){if(h&&jQuery.tableDnD.dragObject!=i){jQuery.tableDnD.dragObject.parentNode.insertBefore(jQuery.tableDnD.dragObject,i.nextSibling)}else if(!h&&jQuery.tableDnD.dragObject!=i){jQuery.tableDnD.dragObject.parentNode.insertBefore(jQuery.tableDnD.dragObject,i)}}}return false},findDropTargetRow:function(a,b){var c=jQuery.tableDnD.currentTable.rows;for(var d=0;d<c.length;d++){var e=c[d];var f=this.getPosition(e).y;var g=parseInt(e.offsetHeight)/2;if(e.offsetHeight==0){f=this.getPosition(e.firstChild).y;g=parseInt(e.firstChild.offsetHeight)/2}if(b>f-g&&b<f+g){if(e==a){return null}var h=jQuery.tableDnD.currentTable.tableDnDConfig;if(h.onAllowDrop){if(h.onAllowDrop(a,e)){return e}else{return null}}else{var i=jQuery(e).hasClass("nodrop");if(!i){return e}else{return null}}return e}}return null},mouseup:function(a){if(jQuery.tableDnD.currentTable&&jQuery.tableDnD.dragObject){jQuery(document).unbind(moveEvent,jQuery.tableDnD.mousemove).unbind(endEvent,jQuery.tableDnD.mouseup);var b=jQuery.tableDnD.dragObject;var c=jQuery.tableDnD.currentTable.tableDnDConfig;if(c.onDragClass){jQuery(b).removeClass(c.onDragClass)}else{jQuery(b).css(c.onDropStyle)}jQuery.tableDnD.dragObject=null;var d=jQuery.tableDnD.serialize();if(c.onDrop&&jQuery.tableDnD.originalOrder!=d){c.onDrop(jQuery.tableDnD.currentTable,b)}jQuery.tableDnD.currentTable=null}},serialize:function(){if(jQuery.tableDnD.currentTable){return jQuery.tableDnD.serializeTable(jQuery.tableDnD.currentTable)}else{return"Error: No Table id set, you need to set an id on your table and every row"}},serializeTable:function(a){var b="";var c=a.id;var d=a.rows;for(var e=0;e<d.length;e++){if(b.length>0)b+="&";var f=d[e].id;if(f&&f&&a.tableDnDConfig&&a.tableDnDConfig.serializeRegexp){f=f.match(a.tableDnDConfig.serializeRegexp)[0]}b+=c+"[]="+f}return b},serializeTables:function(){var a="";this.each(function(){a+=jQuery.tableDnD.serializeTable(this)});return a}};jQuery.fn.extend({tableDnD:jQuery.tableDnD.build,tableDnDUpdate:jQuery.tableDnD.updateTables,tableDnDSerialize:jQuery.tableDnD.serializeTables});$.fn.customFileInput=function(){var a=$(this).addClass("customfile-input").mouseover(function(){b.addClass("customfile-hover")}).mouseout(function(){b.removeClass("customfile-hover")}).focus(function(){b.addClass("customfile-focus");a.data("val",a.val())}).blur(function(){b.removeClass("customfile-focus");$(this).trigger("checkChange")}).bind("disable",function(){a.attr("disabled",true);b.addClass("customfile-disabled")}).bind("enable",function(){a.removeAttr("disabled");b.removeClass("customfile-disabled")}).bind("checkChange",function(){if(a.val()&&a.val()!=a.data("val")){a.trigger("change")}}).bind("change",function(){var a=$(this).val().split(/\\/).pop();var b="customfile-ext-"+a.split(".").pop().toLowerCase();d.text(a).removeClass(d.data("fileExt")||"").addClass(b).data("fileExt",b).addClass("customfile-feedback-populated");c.text("Change")}).click(function(){a.data("val",a.val());setTimeout(function(){a.trigger("checkChange")},100)});var b=$('<div class="customfile"></div>');var c=$('<span class="customfile-button" aria-hidden="true">Browse</span>').appendTo(b);var d=$('<span class="customfile-feedback" aria-hidden="true">No file selected...</span>').appendTo(b);if(a.is("[disabled]")){a.trigger("disable")}b.mousemove(function(c){a.css({left:c.pageX-b.offset().left-a.outerWidth()+20,top:c.pageY-b.offset().top-$(window).scrollTop()-3})}).insertAfter(a);a.appendTo(b);return $(this)};var bkExtend=function(){var a=arguments;if(a.length==1){a=[this,a[0]]}for(var b in a[1]){a[0][b]=a[1][b]}return a[0]};bkClass.prototype.construct=function(){};bkClass.extend=function(a){var b=function(){if(arguments[0]!==bkClass){return this.construct.apply(this,arguments)}};var c=new this(bkClass);bkExtend(c,a);b.prototype=c;b.extend=this.extend;return b};var bkElement=bkClass.extend({construct:function(a,b){if(typeof a=="string"){a=(b||document).createElement(a)}a=$BK(a);return a},appendTo:function(a){a.appendChild(this);return this},appendBefore:function(a){a.parentNode.insertBefore(this,a);return this},addEvent:function(a,b){bkLib.addEvent(this,a,b);return this},setContent:function(a){this.innerHTML=a;return this},pos:function(){var a=curtop=0;var b=obj=this;if(obj.offsetParent){do{a+=obj.offsetLeft;curtop+=obj.offsetTop}while(obj=obj.offsetParent)}var c=!window.opera?parseInt(this.getStyle("border-width")||this.style.border)||0:0;return[a+c,curtop+c+this.offsetHeight]},noSelect:function(){bkLib.noSelect(this);return this},parentTag:function(a){var b=this;do{if(b&&b.nodeName&&b.nodeName.toUpperCase()==a){return b}b=b.parentNode}while(b);return false},hasClass:function(a){return this.className.match(new RegExp("(\\s|^)nicEdit-"+a+"(\\s|$)"))},addClass:function(a){if(!this.hasClass(a)){this.className+=" nicEdit-"+a}return this},removeClass:function(a){if(this.hasClass(a)){this.className=this.className.replace(new RegExp("(\\s|^)nicEdit-"+a+"(\\s|$)")," ")}return this},setStyle:function(a){var b=this.style;for(var c in a){switch(c){case"float":b.cssFloat=b.styleFloat=a[c];break;case"opacity":b.opacity=a[c];b.filter="alpha(opacity="+Math.round(a[c]*100)+")";break;case"className":this.className=a[c];break;default:b[c]=a[c]}}return this},getStyle:function(a,b){var c=!b?document.defaultView:b;if(this.nodeType==1){return c&&c.getComputedStyle?c.getComputedStyle(this,null).getPropertyValue(a):this.currentStyle[bkLib.camelize(a)]}},remove:function(){this.parentNode.removeChild(this);return this},setAttributes:function(a){for(var b in a){this[b]=a[b]}return this}});var bkLib={isMSIE:navigator.appVersion.indexOf("MSIE")!=-1,addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,false):a.attachEvent("on"+b,c)},toArray:function(a){var b=a.length,c=new Array(b);while(b--){c[b]=a[b]}return c},noSelect:function(a){if(a.setAttribute&&a.nodeName.toLowerCase()!="input"&&a.nodeName.toLowerCase()!="textarea"){a.setAttribute("unselectable","on")}for(var b=0;b<a.childNodes.length;b++){bkLib.noSelect(a.childNodes[b])}},camelize:function(a){return a.replace(/\-(.)/g,function(a,b){return b.toUpperCase()})},inArray:function(a,b){return bkLib.search(a,b)!=null},search:function(a,b){for(var c=0;c<a.length;c++){if(a[c]==b){return c}}return null},cancelEvent:function(a){a=a||window.event;if(a.preventDefault&&a.stopPropagation){a.preventDefault();a.stopPropagation()}return false},domLoad:[],domLoaded:function(){if(arguments.callee.done){return}arguments.callee.done=true;for(i=0;i<bkLib.domLoad.length;i++){bkLib.domLoad[i]()}},onDomLoaded:function(a){this.domLoad.push(a);if(document.addEventListener){document.addEventListener("DOMContentLoaded",bkLib.domLoaded,null)}else{if(bkLib.isMSIE){document.write("<style>.nicEdit-main p { margin: 0; }</style><script id=__ie_onload defer "+(location.protocol=="https:"?"src='javascript:void(0)'":"src=//0")+"></script>");$BK("__ie_onload").onreadystatechange=function(){if(this.readyState=="complete"){bkLib.domLoaded()}}}}window.onload=bkLib.domLoaded}};var bkEvent={addEvent:function(a,b){if(b){this.eventList=this.eventList||{};this.eventList[a]=this.eventList[a]||[];this.eventList[a].push(b)}return this},fireEvent:function(){var a=bkLib.toArray(arguments),b=a.shift();if(this.eventList&&this.eventList[b]){for(var c=0;c<this.eventList[b].length;c++){this.eventList[b][c].apply(this,a)}}}};Function.prototype.closure=function(){var a=this,b=bkLib.toArray(arguments),c=b.shift();return function(){if(typeof bkLib!="undefined"){return a.apply(c,b.concat(bkLib.toArray(arguments)))}}};Function.prototype.closureListener=function(){var a=this,b=bkLib.toArray(arguments),c=b.shift();return function(d){d=d||window.event;if(d.target){var e=d.target}else{var e=d.srcElement}return a.apply(c,[d,e].concat(b))}};var nicEditorConfig=bkClass.extend({buttons:{bold:{name:__("Click to Bold"),command:"Bold",tags:["B","STRONG"],css:{"font-weight":"bold"},key:"b"},italic:{name:__("Click to Italic"),command:"Italic",tags:["EM","I"],css:{"font-style":"italic"},key:"i"},underline:{name:__("Click to Underline"),command:"Underline",tags:["U"],css:{"text-decoration":"underline"},key:"u"},left:{name:__("Left Align"),command:"justifyleft",noActive:true},center:{name:__("Center Align"),command:"justifycenter",noActive:true},right:{name:__("Right Align"),command:"justifyright",noActive:true},justify:{name:__("Justify Align"),command:"justifyfull",noActive:true},ol:{name:__("Insert Ordered List"),command:"insertorderedlist",tags:["OL"]},ul:{name:__("Insert Unordered List"),command:"insertunorderedlist",tags:["UL"]},subscript:{name:__("Click to Subscript"),command:"subscript",tags:["SUB"]},superscript:{name:__("Click to Superscript"),command:"superscript",tags:["SUP"]},strikethrough:{name:__("Click to Strike Through"),command:"strikeThrough",css:{"text-decoration":"line-through"}},removeformat:{name:__("Remove Formatting"),command:"removeformat",noActive:true},indent:{name:__("Indent Text"),command:"indent",noActive:true},outdent:{name:__("Remove Indent"),command:"outdent",noActive:true},hr:{name:__("Horizontal Rule"),command:"insertHorizontalRule",noActive:true}},iconsPath:"../nicEditorIcons.gif",buttonList:["save","bold","italic","underline","left","center","right","justify","ol","ul","fontSize","fontFamily","fontFormat","indent","outdent","image","upload","link","unlink","forecolor","bgcolor"],iconList:{bold:1,center:2,hr:3,indent:4,italic:5,justify:6,left:7,ol:8,outdent:9,removeformat:10,right:11,save:12,strikethrough:13,subscript:14,superscript:15,ul:16,underline:17,close:18,arrow:19}});var nicEditors={nicPlugins:[],editors:[],registerPlugin:function(a,b){this.nicPlugins.push({p:a,o:b})},allTextAreas:function(a){var b=document.getElementsByTagName("textarea");for(var c=0;c<b.length;c++){nicEditors.editors.push((new nicEditor(a)).panelInstance(b[c]))}return nicEditors.editors},findEditor:function(a){var b=nicEditors.editors;for(var c=0;c<b.length;c++){if(b[c].instanceById(a)){return b[c].instanceById(a)}}}};var nicEditor=bkClass.extend({construct:function(a){this.options=new nicEditorConfig;bkExtend(this.options,a);this.nicInstances=new Array;this.loadedPlugins=new Array;var b=nicEditors.nicPlugins;for(var c=0;c<b.length;c++){this.loadedPlugins.push(new b[c].p(this,b[c].o))}nicEditors.editors.push(this);bkLib.addEvent(document.body,"mousedown",this.selectCheck.closureListener(this))},panelInstance:function(a,b){a=this.checkReplace($BK(a));var c=(new bkElement("DIV")).setStyle({width:(parseInt(a.getStyle("width"))||a.clientWidth)+"px"}).appendBefore(a);this.setPanel(c);return this.addInstance(a,b)},checkReplace:function(a){var b=nicEditors.findEditor(a);if(b){b.removeInstance(a);b.removePanel()}return a},addInstance:function(a,b){a=this.checkReplace($BK(a));if(a.contentEditable||!!window.opera){var c=new nicEditorInstance(a,b,this)}else{var c=new nicEditorIFrameInstance(a,b,this)}this.nicInstances.push(c);return this},removeInstance:function(a){a=$BK(a);var b=this.nicInstances;for(var c=0;c<b.length;c++){if(b[c].e==a){b[c].remove();this.nicInstances.splice(c,1)}}},removePanel:function(a){if(this.nicPanel){this.nicPanel.remove();this.nicPanel=null}},instanceById:function(a){a=$BK(a);var b=this.nicInstances;for(var c=0;c<b.length;c++){if(b[c].e==a){return b[c]}}},setPanel:function(a){this.nicPanel=new nicEditorPanel($BK(a),this.options,this);this.fireEvent("panel",this.nicPanel);return this},nicCommand:function(a,b){if(this.selectedInstance){this.selectedInstance.nicCommand(a,b)}},getIcon:function(a,b){var c=this.options.iconList[a];var d=b.iconFiles?b.iconFiles[a]:"";return{backgroundImage:"url('"+(c?this.options.iconsPath:d)+"')",backgroundPosition:(c?(c-1)*-18:0)+"px 0px"}},selectCheck:function(a,b){var c=false;do{if(b.className&&b.className.indexOf("nicEdit")!=-1){return false}}while(b=b.parentNode);this.fireEvent("blur",this.selectedInstance,b);this.lastSelectedInstance=this.selectedInstance;this.selectedInstance=null;return false}});nicEditor=nicEditor.extend(bkEvent);var nicEditorInstance=bkClass.extend({isSelected:false,construct:function(a,b,c){this.ne=c;this.elm=this.e=a;this.options=b||{};newX=parseInt(a.getStyle("width"))||a.clientWidth;newY=parseInt(a.getStyle("height"))||a.clientHeight;this.initialHeight=newY-8;var d=a.nodeName.toLowerCase()=="textarea";if(d||this.options.hasPanel){var e=bkLib.isMSIE&&!(typeof document.body.style.maxHeight!="undefined"&&document.compatMode=="CSS1Compat");var f={width:newX+"px",border:"1px solid #ccc",borderTop:0,overflowY:"auto",overflowX:"hidden"};f[e?"height":"maxHeight"]=this.ne.options.maxHeight?this.ne.options.maxHeight+"px":null;this.editorContain=(new bkElement("DIV")).setStyle(f).appendBefore(a);var g=(new bkElement("DIV")).setStyle({width:newX-8+"px",margin:"4px",minHeight:newY+"px"}).addClass("main").appendTo(this.editorContain);a.setStyle({display:"none"});g.innerHTML=a.innerHTML;if(d){g.setContent(a.value);this.copyElm=a;var h=a.parentTag("FORM");if(h){bkLib.addEvent(h,"submit",this.saveContent.closure(this))}}g.setStyle(e?{height:newY+"px"}:{overflow:"hidden"});this.elm=g}this.ne.addEvent("blur",this.blur.closure(this));this.init();this.blur()},init:function(){this.elm.setAttribute("contentEditable","true");if(this.getContent()==""){this.setContent("<br />")}this.instanceDoc=document.defaultView;this.elm.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keypress",this.keyDown.closureListener(this)).addEvent("focus",this.selected.closure(this)).addEvent("blur",this.blur.closure(this)).addEvent("keyup",this.selected.closure(this));this.ne.fireEvent("add",this)},remove:function(){this.saveContent();if(this.copyElm||this.options.hasPanel){this.editorContain.remove();this.e.setStyle({display:"block"});this.ne.removePanel()}this.disable();this.ne.fireEvent("remove",this)},disable:function(){this.elm.setAttribute("contentEditable","false")},getSel:function(){return window.getSelection?window.getSelection():document.selection},getRng:function(){var a=this.getSel();if(!a||a.rangeCount===0){return}return a.rangeCount>0?a.getRangeAt(0):a.createRange()},selRng:function(a,b){if(window.getSelection){b.removeAllRanges();b.addRange(a)}else{a.select()}},selElm:function(){var a=this.getRng();if(!a){return}if(a.startContainer){var b=a.startContainer;if(a.cloneContents().childNodes.length==1){for(var c=0;c<b.childNodes.length;c++){var d=b.childNodes[c].ownerDocument.createRange();d.selectNode(b.childNodes[c]);if(a.compareBoundaryPoints(Range.START_TO_START,d)!=1&&a.compareBoundaryPoints(Range.END_TO_END,d)!=-1){return $BK(b.childNodes[c])}}}return $BK(b)}else{return $BK(this.getSel().type=="Control"?a.item(0):a.parentElement())}},saveRng:function(){this.savedRange=this.getRng();this.savedSel=this.getSel()},restoreRng:function(){if(this.savedRange){this.selRng(this.savedRange,this.savedSel)}},keyDown:function(a,b){if(a.ctrlKey){this.ne.fireEvent("key",this,a)}},selected:function(a,b){if(!b&&!(b=this.selElm)){b=this.selElm()}if(!a.ctrlKey){var c=this.ne.selectedInstance;if(c!=this){if(c){this.ne.fireEvent("blur",c,b)}this.ne.selectedInstance=this;this.ne.fireEvent("focus",c,b)}this.ne.fireEvent("selected",c,b);this.isFocused=true;this.elm.addClass("selected")}return false},blur:function(){this.isFocused=false;this.elm.removeClass("selected")},saveContent:function(){if(this.copyElm||this.options.hasPanel){this.ne.fireEvent("save",this);this.copyElm?this.copyElm.value=this.getContent():this.e.innerHTML=this.getContent()}},getElm:function(){return this.elm},getContent:function(){this.content=this.getElm().innerHTML;this.ne.fireEvent("get",this);return this.content},setContent:function(a){this.content=a;this.ne.fireEvent("set",this);this.elm.innerHTML=this.content},nicCommand:function(a,b){document.execCommand(a,false,b)}});var nicEditorIFrameInstance=nicEditorInstance.extend({savedStyles:[],init:function(){var a=this.elm.innerHTML.replace(/^\s+|\s+$/g,"");this.elm.innerHTML="";!a?a="<br />":a;this.initialContent=a;this.elmFrame=(new bkElement("iframe")).setAttributes({src:"javascript:;",frameBorder:0,allowTransparency:"true",scrolling:"no"}).setStyle({height:"100px",width:"100%"}).addClass("frame").appendTo(this.elm);if(this.copyElm){this.elmFrame.setStyle({width:this.elm.offsetWidth-4+"px"})}var b=["font-size","font-family","font-weight","color"];for(itm in b){this.savedStyles[bkLib.camelize(itm)]=this.elm.getStyle(itm)}setTimeout(this.initFrame.closure(this),50)},disable:function(){this.elm.innerHTML=this.getContent()},initFrame:function(){var a=$BK(this.elmFrame.contentWindow.document);a.designMode="on";a.open();var b=this.ne.options.externalCSS;a.write("<html><head>"+(b?'<link href="'+b+'" rel="stylesheet" type="text/css" />':"")+'</head><body id="nicEditContent" style="margin: 0 !important; background-color: transparent !important;">'+this.initialContent+"</body></html>");a.close();this.frameDoc=a;this.frameWin=$BK(this.elmFrame.contentWindow);this.frameContent=$BK(this.frameWin.document.body).setStyle(this.savedStyles);this.instanceDoc=this.frameWin.document.defaultView;this.heightUpdate();this.frameDoc.addEvent("mousedown",this.selected.closureListener(this)).addEvent("keyup",this.heightUpdate.closureListener(this)).addEvent("keydown",this.keyDown.closureListener(this)).addEvent("keyup",this.selected.closure(this));this.ne.fireEvent("add",this)},getElm:function(){return this.frameContent},setContent:function(a){this.content=a;this.ne.fireEvent("set",this);this.frameContent.innerHTML=this.content;this.heightUpdate()},getSel:function(){return this.frameWin?this.frameWin.getSelection():this.frameDoc.selection},heightUpdate:function(){this.elmFrame.style.height=Math.max(this.frameContent.offsetHeight,this.initialHeight)+"px"},nicCommand:function(a,b){this.frameDoc.execCommand(a,false,b);setTimeout(this.heightUpdate.closure(this),100)}});var nicEditorPanel=bkClass.extend({construct:function(a,b,c){this.elm=a;this.options=b;this.ne=c;this.panelButtons=new Array;this.buttonList=bkExtend([],this.ne.options.buttonList);this.panelContain=(new bkElement("DIV")).setStyle({overflow:"hidden",width:"100%",border:"1px solid #cccccc",backgroundColor:"#efefef"}).addClass("panelContain");this.panelElm=(new bkElement("DIV")).setStyle({margin:"2px",marginTop:"0px",zoom:1,overflow:"hidden"}).addClass("panel").appendTo(this.panelContain);this.panelContain.appendTo(a);var d=this.ne.options;var e=d.buttons;for(button in e){this.addButton(button,d,true)}this.reorder();a.noSelect()},addButton:function(buttonName,options,noOrder){var button=options.buttons[buttonName];var type=button.type?eval("(typeof("+button.type+') == "undefined") ? null : '+button.type+";"):nicEditorButton;var hasButton=bkLib.inArray(this.buttonList,buttonName);if(type&&(hasButton||this.ne.options.fullPanel)){this.panelButtons.push(new type(this.panelElm,buttonName,options,this.ne));if(!hasButton){this.buttonList.push(buttonName)}}},findButton:function(a){for(var b=0;b<this.panelButtons.length;b++){if(this.panelButtons[b].name==a){return this.panelButtons[b]}}},reorder:function(){var a=this.buttonList;for(var b=0;b<a.length;b++){var c=this.findButton(a[b]);if(c){this.panelElm.appendChild(c.margin)}}},remove:function(){this.elm.remove()}});var nicEditorButton=bkClass.extend({construct:function(a,b,c,d){this.options=c.buttons[b];this.name=b;this.ne=d;this.elm=a;this.margin=(new bkElement("DIV")).setStyle({"float":"left",marginTop:"2px"}).appendTo(a);this.contain=(new bkElement("DIV")).setStyle({width:"20px",height:"20px"}).addClass("buttonContain").appendTo(this.margin);this.border=(new bkElement("DIV")).setStyle({backgroundColor:"#efefef",border:"1px solid #efefef"}).appendTo(this.contain);this.button=(new bkElement("DIV")).setStyle({width:"18px",height:"18px",overflow:"hidden",zoom:1,cursor:"pointer"}).addClass("button").setStyle(this.ne.getIcon(b,c)).appendTo(this.border);this.button.addEvent("mouseover",this.hoverOn.closure(this)).addEvent("mouseout",this.hoverOff.closure(this)).addEvent("mousedown",this.mouseClick.closure(this)).noSelect();if(!window.opera){this.button.onmousedown=this.button.onclick=bkLib.cancelEvent}d.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this)).addEvent("key",this.key.closure(this));this.disable();this.init()},init:function(){},hide:function(){this.contain.setStyle({display:"none"})},updateState:function(){if(this.isDisabled){this.setBg()}else{if(this.isHover){this.setBg("hover")}else{if(this.isActive){this.setBg("active")}else{this.setBg()}}}},setBg:function(a){switch(a){case"hover":var b={border:"1px solid #666",backgroundColor:"#ddd"};break;case"active":var b={border:"1px solid #666",backgroundColor:"#ccc"};break;default:var b={border:"1px solid #efefef",backgroundColor:"#efefef"}}this.border.setStyle(b).addClass("button-"+a)},checkNodes:function(a){var b=a;do{if(this.options.tags&&bkLib.inArray(this.options.tags,b.nodeName)){this.activate();return true}}while(b=b.parentNode&&b.className!="nicEdit");b=$BK(a);while(b.nodeType==3){b=$BK(b.parentNode)}if(this.options.css){for(itm in this.options.css){if(b.getStyle(itm,this.ne.selectedInstance.instanceDoc)==this.options.css[itm]){this.activate();return true}}}this.deactivate();return false},activate:function(){if(!this.isDisabled){this.isActive=true;this.updateState();this.ne.fireEvent("buttonActivate",this)}},deactivate:function(){this.isActive=false;this.updateState();if(!this.isDisabled){this.ne.fireEvent("buttonDeactivate",this)}},enable:function(a,b){this.isDisabled=false;this.contain.setStyle({opacity:1}).addClass("buttonEnabled");this.updateState();this.checkNodes(b)},disable:function(a,b){this.isDisabled=true;this.contain.setStyle({opacity:.6}).removeClass("buttonEnabled");this.updateState()},toggleActive:function(){this.isActive?this.deactivate():this.activate()},hoverOn:function(){if(!this.isDisabled){this.isHover=true;this.updateState();this.ne.fireEvent("buttonOver",this)}},hoverOff:function(){this.isHover=false;this.updateState();this.ne.fireEvent("buttonOut",this)},mouseClick:function(){if(this.options.command){this.ne.nicCommand(this.options.command,this.options.commandArgs);if(!this.options.noActive){this.toggleActive()}}this.ne.fireEvent("buttonClick",this)},key:function(a,b){if(this.options.key&&b.ctrlKey&&String.fromCharCode(b.keyCode||b.charCode).toLowerCase()==this.options.key){this.mouseClick();if(b.preventDefault){b.preventDefault()}}}});var nicPlugin=bkClass.extend({construct:function(a,b){this.options=b;this.ne=a;this.ne.addEvent("panel",this.loadPanel.closure(this));this.init()},loadPanel:function(a){var b=this.options.buttons;for(var c in b){a.addButton(c,this.options)}a.reorder()},init:function(){}});var nicPaneOptions={};var nicEditorPane=bkClass.extend({construct:function(a,b,c,d){this.ne=b;this.elm=a;this.pos=a.pos();this.contain=(new bkElement("div")).setStyle({zIndex:"99999",overflow:"hidden",position:"absolute",left:this.pos[0]+"px",top:this.pos[1]+"px"});this.pane=(new bkElement("div")).setStyle({fontSize:"12px",border:"1px solid #ccc",overflow:"hidden",padding:"4px",textAlign:"left",backgroundColor:"#ffffc9"}).addClass("pane").setStyle(c).appendTo(this.contain);if(d&&!d.options.noClose){this.close=(new bkElement("div")).setStyle({"float":"right",height:"16px",width:"16px",cursor:"pointer"}).setStyle(this.ne.getIcon("close",nicPaneOptions)).addEvent("mousedown",d.removePane.closure(this)).appendTo(this.pane)}this.contain.noSelect().appendTo(document.body);this.position();this.init()},init:function(){},position:function(){if(this.ne.nicPanel){var a=this.ne.nicPanel.elm;var b=a.pos();var c=b[0]+parseInt(a.getStyle("width"))-(parseInt(this.pane.getStyle("width"))+8);if(c<this.pos[0]){this.contain.setStyle({left:c+"px"})}}},toggle:function(){this.isVisible=!this.isVisible;this.contain.setStyle({display:this.isVisible?"block":"none"})},remove:function(){if(this.contain){this.contain.remove();this.contain=null}},append:function(a){a.appendTo(this.pane)},setContent:function(a){this.pane.setContent(a)}});var nicButtonTips=bkClass.extend({construct:function(a){this.ne=a;a.addEvent("buttonOver",this.show.closure(this)).addEvent("buttonOut",this.hide.closure(this))},show:function(a){this.timer=setTimeout(this.create.closure(this,a),400)},create:function(a){this.timer=null;if(!this.pane){this.pane=new nicEditorPane(a.button,this.ne,{fontSize:"12px",marginTop:"5px"});this.pane.setContent(a.options.name)}},hide:function(a){if(this.timer){clearTimeout(this.timer)}if(this.pane){this.pane=this.pane.remove()}}});nicEditors.registerPlugin(nicButtonTips);var nicSelectOptions={buttons:{fontSize:{name:__("Select Font Size"),type:"nicEditorFontSizeSelect",command:"fontsize"},fontFamily:{name:__("Select Font Family"),type:"nicEditorFontFamilySelect",command:"fontname"},fontFormat:{name:__("Select Font Format"),type:"nicEditorFontFormatSelect",command:"formatBlock"}}};var nicEditorSelect=bkClass.extend({construct:function(a,b,c,d){this.options=c.buttons[b];this.elm=a;this.ne=d;this.name=b;this.selOptions=new Array;this.margin=(new bkElement("div")).setStyle({"float":"left",margin:"2px 1px 0 1px"}).appendTo(this.elm);this.contain=(new bkElement("div")).setStyle({width:"90px",height:"20px",cursor:"pointer",overflow:"hidden"}).addClass("selectContain").addEvent("click",this.toggle.closure(this)).appendTo(this.margin);this.items=(new bkElement("div")).setStyle({overflow:"hidden",zoom:1,border:"1px solid #ccc",paddingLeft:"3px",backgroundColor:"#fff"}).appendTo(this.contain);this.control=(new bkElement("div")).setStyle({overflow:"hidden","float":"right",height:"18px",width:"16px"}).addClass("selectControl").setStyle(this.ne.getIcon("arrow",c)).appendTo(this.items);this.txt=(new bkElement("div")).setStyle({overflow:"hidden","float":"left",width:"66px",height:"14px",marginTop:"1px",fontFamily:"sans-serif",textAlign:"center",fontSize:"12px"}).addClass("selectTxt").appendTo(this.items);if(!window.opera){this.contain.onmousedown=this.control.onmousedown=this.txt.onmousedown=bkLib.cancelEvent}this.margin.noSelect();this.ne.addEvent("selected",this.enable.closure(this)).addEvent("blur",this.disable.closure(this));this.disable();this.init()},disable:function(){this.isDisabled=true;this.close();this.contain.setStyle({opacity:.6})},enable:function(a){this.isDisabled=false;this.close();this.contain.setStyle({opacity:1})},setDisplay:function(a){this.txt.setContent(a)},toggle:function(){if(!this.isDisabled){this.pane?this.close():this.open()}},open:function(){this.pane=new nicEditorPane(this.items,this.ne,{width:"88px",padding:"0px",borderTop:0,borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",borderBottom:"0px",backgroundColor:"#fff"});for(var a=0;a<this.selOptions.length;a++){var b=this.selOptions[a];var c=(new bkElement("div")).setStyle({overflow:"hidden",borderBottom:"1px solid #ccc",width:"88px",textAlign:"left",overflow:"hidden",cursor:"pointer"});var d=(new bkElement("div")).setStyle({padding:"0px 4px"}).setContent(b[1]).appendTo(c).noSelect();d.addEvent("click",this.update.closure(this,b[0])).addEvent("mouseover",this.over.closure(this,d)).addEvent("mouseout",this.out.closure(this,d)).setAttributes("id",b[0]);this.pane.append(c);if(!window.opera){d.onmousedown=bkLib.cancelEvent}}},close:function(){if(this.pane){this.pane=this.pane.remove()}},over:function(a){a.setStyle({backgroundColor:"#ccc"})},out:function(a){a.setStyle({backgroundColor:"#fff"})},add:function(a,b){this.selOptions.push(new Array(a,b))},update:function(a){this.ne.nicCommand(this.options.command,a);this.close()}});var nicEditorFontSizeSelect=nicEditorSelect.extend({sel:{1:"1 (8pt)",2:"2 (10pt)",3:"3 (12pt)",4:"4 (14pt)",5:"5 (18pt)",6:"6 (24pt)"},init:function(){this.setDisplay("Font Size...");for(itm in this.sel){this.add(itm,'<font size="'+itm+'">'+this.sel[itm]+"</font>")}}});var nicEditorFontFamilySelect=nicEditorSelect.extend({sel:{arial:"Arial","comic sans ms":"Comic Sans","courier new":"Courier New",georgia:"Georgia",helvetica:"Helvetica",impact:"Impact","times new roman":"Times","trebuchet ms":"Trebuchet",verdana:"Verdana"},init:function(){this.setDisplay("Font Family...");for(itm in this.sel){this.add(itm,'<font face="'+itm+'">'+this.sel[itm]+"</font>")}}});var nicEditorFontFormatSelect=nicEditorSelect.extend({sel:{p:"Paragraph",pre:"Pre",h6:"Heading 6",h5:"Heading 5",h4:"Heading 4",h3:"Heading 3",h2:"Heading 2",h1:"Heading 1"},init:function(){this.setDisplay("Font Format...");for(itm in this.sel){var a=itm.toUpperCase();this.add("<"+a+">","<"+itm+' style="padding: 0px; margin: 0px;">'+this.sel[itm]+"</"+a+">")}}});nicEditors.registerPlugin(nicPlugin,nicSelectOptions);(function(a){function e(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c}function f(a,b){var c=parseInt(a.css(b),10);if(c)return c;var d=a[0].currentStyle;return d&&d.width&&parseInt(d.width,10)}function g(a){var b=a.data("events");return b&&b.onSlide}function h(b,c){function x(a,f,g,h){g===undefined?g=f/m*q:h&&(g-=c.min),r&&(g=Math.round(g/r)*r);if(f===undefined||r)f=g*m/q;if(isNaN(g))return d;f=Math.max(0,Math.min(f,m)),g=f/m*q;if(h||!j)g+=c.min;j&&(h?f=m-f:g=c.max-g),g=e(g,s);var i=a.type=="click";if(w&&k!==undefined&&!i){a.type="onSlide",v.trigger(a,[g,f]);if(a.isDefaultPrevented())return d}var l=i?c.speed:0,t=i?function(){a.type="change",v.trigger(a,[g])}:null;j?(o.animate({top:f},l,t),c.progress&&p.animate({height:m-f+o.height()/2},l)):(o.animate({left:f},l,t),c.progress&&p.animate({width:f+o.width()/2},l)),k=g,n=f,b.val(g);return d}function y(){j=c.vertical||f(i,"height")>f(i,"width"),j?(m=f(i,"height")-f(o,"height"),l=i.offset().top+m):(m=f(i,"width")-f(o,"width"),l=i.offset().left)}function z(){y(),d.setValue(c.value!==undefined?c.value:c.min)}var d=this,h=c.css,i=a("<div><div/><a href='#'/></div>").data("rangeinput",d),j,k,l,m,n;b.before(i);var o=i.addClass(h.slider).find("a").addClass(h.handle),p=i.find("div").addClass(h.progress);a.each("min,max,step,value".split(","),function(a,d){var e=b.attr(d);parseFloat(e)&&(c[d]=parseFloat(e,10))});var q=c.max-c.min,r=c.step=="any"?0:c.step,s=c.precision;s===undefined&&(s=r.toString().split("."),s=s.length===2?s[1].length:0);if(b.attr("type")=="range"){var t=b.clone().wrap("<div/>").parent().html(),u=a(t.replace(/type/i,"type=text data-orig-type"));u.val(c.value),b.replaceWith(u),b=u}b.addClass(h.input);var v=a(d).add(b),w=!0;a.extend(d,{getValue:function(){return k},setValue:function(b,c){y();return x(c||a.Event("api"),undefined,b,!0)},getConf:function(){return c},getProgress:function(){return p},getHandle:function(){return o},getInput:function(){return b},step:function(b,e){e=e||a.Event();var f=c.step=="any"?1:c.step;d.setValue(k+f*(b||1),e)},stepUp:function(a){return d.step(a||1)},stepDown:function(a){return d.step(-a||-1)}}),a.each("onSlide,change".split(","),function(b,e){a.isFunction(c[e])&&a(d).on(e,c[e]),d[e]=function(b){b&&a(d).on(e,b);return d}}),o.drag({drag:!1}).on("dragStart",function(){y(),w=g(a(d))||g(b)}).on("drag",function(a,c,d){if(b.is(":disabled"))return!1;x(a,j?c:d)}).on("dragEnd",function(a){a.isDefaultPrevented()||(a.type="change",v.trigger(a,[k]))}).click(function(a){return a.preventDefault()}),i.click(function(a){if(b.is(":disabled")||a.target==o[0])return a.preventDefault();y();var c=j?o.height()/2:o.width()/2;x(a,j?m-l-c+a.pageY:a.pageX-l-c)}),c.keyboard&&b.keydown(function(c){if(!b.attr("readonly")){var e=c.keyCode,f=a([75,76,38,33,39]).index(e)!=-1,g=a([74,72,40,34,37]).index(e)!=-1;if((f||g)&&!(c.shiftKey||c.altKey||c.ctrlKey)){f?d.step(e==33?10:1,c):g&&d.step(e==34?-10:-1,c);return c.preventDefault()}}}),b.blur(function(b){var c=a(this).val();c!==k&&d.setValue(c,b)}),a.extend(b[0],{stepUp:d.stepUp,stepDown:d.stepDown});z(),m||a(window).load(z)}a.tools=a.tools||{version:"v1.2.7"};var b;b=a.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:undefined,vertical:0,keyboard:!0,progress:!1,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var c,d;a.fn.drag=function(b){document.ondragstart=function(){return!1},b=a.extend({x:!0,y:!0,drag:!0},b),c=c||a(document).on("mousedown mouseup",function(e){var f=a(e.target);if(e.type=="mousedown"&&f.data("drag")){var g=f.position(),h=e.pageX-g.left,i=e.pageY-g.top,j=!0;c.on("mousemove.drag",function(a){var c=a.pageX-h,e=a.pageY-i,g={};b.x&&(g.left=c),b.y&&(g.top=e),j&&(f.trigger("dragStart"),j=!1),b.drag&&f.css(g),f.trigger("drag",[e,c]),d=f}),e.preventDefault()}else try{d&&d.trigger("dragEnd")}finally{c.off("mousemove.drag"),d=null}});return this.data("drag",!0)};a.expr[":"].range=function(b){var c=b.getAttribute("type");return c&&c=="range"||a(b).filter("input").data("rangeinput")},a.fn.rangeinput=function(c){if(this.data("rangeinput"))return this;c=a.extend(!0,{},b.conf,c);var d;this.each(function(){var b=new h(a(this),a.extend(!0,{},c)),e=b.getInput().data("rangeinput",b);d=d?d.add(e):e});return d?d:this}})(jQuery);(function(a){function c(){if(a.browser.msie){var b=a(document).height(),c=a(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,b-c<20?c:b]}return[a(document).width(),a(document).height()]}function d(b){if(b)return b.call(a.mask)}a.tools=a.tools||{version:"v1.2.7"};var b;b=a.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};var e,f,g,h,i;a.mask={load:function(j,k){if(g)return this;typeof j=="string"&&(j={color:j}),j=j||h,h=j=a.extend(a.extend({},b.conf),j),e=a("#"+j.maskId),e.length||(e=a("<div/>").attr("id",j.maskId),a("body").append(e));var l=c();e.css({position:"absolute",top:0,left:0,width:l[0],height:l[1],display:"none",opacity:j.startOpacity,zIndex:j.zIndex}),j.color&&e.css("backgroundColor",j.color);if(d(j.onBeforeLoad)===!1)return this;j.closeOnEsc&&a(document).on("keydown.mask",function(b){b.keyCode==27&&a.mask.close(b)}),j.closeOnClick&&e.on("click.mask",function(b){a.mask.close(b)}),a(window).on("resize.mask",function(){a.mask.fit()}),k&&k.length&&(i=k.eq(0).css("zIndex"),a.each(k,function(){var b=a(this);/relative|absolute|fixed/i.test(b.css("position"))||b.css("position","relative")}),f=k.css({zIndex:Math.max(j.zIndex+1,i=="auto"?0:i)})),e.css({display:"block"}).fadeTo(j.loadSpeed,j.opacity,function(){a.mask.fit(),d(j.onLoad),g="full"}),g=!0;return this},close:function(){if(g){if(d(h.onBeforeClose)===!1)return this;e.fadeOut(h.closeSpeed,function(){d(h.onClose),f&&f.css({zIndex:i}),g=!1}),a(document).off("keydown.mask"),e.off("click.mask"),a(window).off("resize.mask")}return this},fit:function(){if(g){var a=c();e.css({width:a[0],height:a[1]})}},getMask:function(){return e},isLoaded:function(a){return a?g=="full":g},getConf:function(){return h},getExposed:function(){return f}},a.fn.mask=function(b){a.mask.load(b);return this},a.fn.expose=function(b){a.mask.load(b,this);return this}})(jQuery);(function(a){a.iButton={version:"1.0.03",setDefaults:function(b){a.extend(d,b)}};a.fn.iButton=function(b){var d=typeof arguments[0]=="string"&&arguments[0];var e=d&&Array.prototype.slice.call(arguments,1)||arguments;var f=this.length==0?null:a.data(this[0],"iButton");if(f&&d&&this.length){if(d.toLowerCase()=="object"){return f}else{if(f[d]){var g;this.each(function(b){var c=a.data(this,"iButton")[d].apply(f,e);if(b==0&&c){if(!!c.jquery){g=a([]).add(c)}else{g=c;return false}}else{if(!!c&&!!c.jquery){g=g.add(c)}}});return g||this}else{return this}}}else{return this.each(function(){new c(this,b)})}};var b=0;a.browser.iphone=navigator.userAgent.toLowerCase().indexOf("iphone")>-1;var c=function(c,g){var h=this,i=a(c),j=++b,k=false,l={},m={dragging:false,clicked:null},n={position:null,offset:null,time:null},g=a.extend({},d,g,!!a.metadata?i.metadata():{}),o=g.labelOn==e&&g.labelOff==f,p=":checkbox, :radio";if(!i.is(p)){return i.find(p).iButton(g)}else{if(a.data(i[0],"iButton")){return}}a.data(i[0],"iButton",h);if(g.resizeHandle=="auto"){g.resizeHandle=!o}if(g.resizeContainer=="auto"){g.resizeContainer=!o}this.toggle=function(a){var b=arguments.length>0?a:!i[0].checked;i.attr("checked",b).trigger("change")};this.disable=function(b){var c=arguments.length>0?b:!k;k=c;i.attr("disabled",c);q[c?"addClass":"removeClass"](g.classDisabled);if(a.isFunction(g.disable)){g.disable.apply(h,[k,i,g])}};this.repaint=function(){x()};this.destroy=function(){a([i[0],q[0]]).unbind(".iButton");a(document).unbind(".iButton_"+j);q.after(i).remove();a.data(i[0],"iButton",null);if(a.isFunction(g.destroy)){g.destroy.apply(h,[i,g])}};i.wrap('<div class="'+a.trim(g.classContainer+" "+g.className)+'" />').after('<div class="'+g.classHandle+'"><div class="'+g.classHandleRight+'"><div class="'+g.classHandleMiddle+'" /></div></div><div class="'+g.classLabelOff+'"><span><label>'+g.labelOff+'</label></span></div><div class="'+g.classLabelOn+'"><span><label>'+g.labelOn+'</label></span></div><div class="'+g.classPaddingLeft+'"></div><div class="'+g.classPaddingRight+'"></div>');var q=i.parent(),r=i.siblings("."+g.classHandle),s=i.siblings("."+g.classLabelOff),t=s.children("span"),u=i.siblings("."+g.classLabelOn),v=u.children("span");if(g.resizeHandle||g.resizeContainer){l.onspan=v.outerWidth();l.offspan=t.outerWidth()}if(g.resizeHandle){l.handle=Math.min(l.onspan,l.offspan);r.css("width",l.handle)}else{l.handle=r.width()}if(g.resizeContainer){l.container=Math.max(l.onspan,l.offspan)+l.handle+20;q.css("width",l.container);s.css("width",l.container-5)}else{l.container=q.width()}var w=l.container-l.handle-6;var x=function(a){var b=i[0].checked,c=b?w:0,a=arguments.length>0?arguments[0]:true;if(a&&g.enableFx){r.stop().animate({left:c},g.duration,g.easing);u.stop().animate({width:c+4},g.duration,g.easing);v.stop().animate({marginLeft:c-w},g.duration,g.easing);t.stop().animate({marginRight:-c},g.duration,g.easing)}else{r.css("left",c);u.css("width",c+4);v.css("marginLeft",c-w);t.css("marginRight",-c)}};x(false);var y=function(a){return a.pageX||(a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:0)};q.bind("mousedown.iButton touchstart.iButton",function(b){if(a(b.target).is(p)||k||!g.allowRadioUncheck&&i.is(":radio:checked")){return}b.preventDefault();m.clicked=r;n.position=y(b);n.offset=n.position-(parseInt(r.css("left"),10)||0);n.time=(new Date).getTime();return false});if(g.enableDrag){a(document).bind("mousemove.iButton_"+j+" touchmove.iButton_"+j,function(a){if(m.clicked!=r){return}a.preventDefault();var b=y(a);if(b!=n.offset){m.dragging=true;q.addClass(g.classHandleActive)}var c=Math.min(1,Math.max(0,(b-n.offset)/w));r.css("left",c*w);u.css("width",c*w+4);t.css("marginRight",-c*w);v.css("marginLeft",-(1-c)*w);return false})}a(document).bind("mouseup.iButton_"+j+" touchend.iButton_"+j,function(b){if(m.clicked!=r){return false}b.preventDefault();var c=true;if(!m.dragging||(new Date).getTime()-n.time<g.clickOffset){var d=i[0].checked;i.attr("checked",!d);if(a.isFunction(g.click)){g.click.apply(h,[!d,i,g])}}else{var e=y(b);var f=(e-n.offset)/w;var d=f>=.5;if(i[0].checked==d){c=false}i.attr("checked",d)}q.removeClass(g.classHandleActive);m.clicked=null;m.dragging=null;if(c){i.trigger("change")}else{x()}return false});i.bind("change.iButton",function(){x();if(i.is(":radio")){var b=i[0];var c=a(b.form?b.form[b.name]:":radio[name="+b.name+"]");c.filter(":not(:checked)").iButton("repaint")}if(a.isFunction(g.change)){g.change.apply(h,[i,g])}}).bind("focus.iButton",function(){q.addClass(g.classFocus)}).bind("blur.iButton",function(){q.removeClass(g.classFocus)});if(a.isFunction(g.click)){i.bind("click.iButton",function(){g.click.apply(h,[i[0].checked,i,g])})}if(i.is(":disabled")){this.disable(true)}if(a.browser.msie){q.find("*").andSelf().attr("unselectable","on");i.bind("click.iButton",function(){i.triggerHandler("change.iButton")})}if(a.isFunction(g.init)){g.init.apply(h,[i,g])}};var d={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:true,enableFx:true,allowRadioUncheck:false,clickOffset:120,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},e=d.labelOn,f=d.labelOff})(jQuery)